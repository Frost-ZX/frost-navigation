import{_ as y,A as w,g as C,C as M,D as k,x as I,n as _,q as l,w as r,p as a,aN as b,aK as u,aZ as p,a$ as N,b0 as d,$ as f}from"./index-BKvL4bCX.js";import{g as v}from"./getCommonDateTime-9O9gLM5u.js";import{N as B}from"./Switch-Dl8nePp7.js";import{N as D}from"./Flex-C-gYDqtT.js";import{N as s}from"./Input-CylcvuRs.js";import{N as T}from"./Form-mPnyzTSO.js";import{N as n}from"./FormItem-DCbrlobA.js";import{d as U}from"./Select-y25Hn_WI.js";import"./use-merged-state-CKbFJlkG.js";import"./get-slot-Bk_rJcZu.js";import"./get-CQG32wRx.js";import"./Popover-BG5MQIM7.js";import"./Follower-L5kM5qp8.js";const S={class:"tool-detail-page"},z={__name:"ConvertTimestamp",setup(F){const t=w({autoUpdate:!0,convertLocalTime:"",convertMode:"toTimestamp",convertTimestamp:"",currentLocalTime:"",currentTimestamp:"",timestampUnit:"ms",timer:null}),g=C(()=>"示例：1577808000"+(t.timestampUnit==="ms"?"000":""));function x(){t.convertLocalTime="",t.convertTimestamp=""}function L(){let m=t.convertMode,e=t.timestampUnit;if(m==="toLocalTime"){let o=parseInt(t.convertTimestamp);if(isNaN(o)){f.warning("请输入时间戳");return}e==="s"&&(o*=1e3),t.convertLocalTime=v(o,"all")}else if(m==="toTimestamp"){let o=t.convertLocalTime,i=0;if(o)i=new Date(o).getTime();else{f.warning("请输入本地时间");return}if(isNaN(i)){f.warning("请输入有效的本地时间");return}t.convertLocalTime=v(i,"all"),e==="s"&&(i=Math.round(i/1e3)),t.convertTimestamp=String(i)}}function c(m=!1){if(t.timer&&clearInterval(t.timer),!m){t.timer=null;return}t.timer=setInterval(()=>{if(!t.autoUpdate)return;let e=Math.round(Date.now()/1e3)*1e3,o=v(e,"all");t.currentLocalTime=o,t.currentTimestamp=String(e)},1e3)}return M(()=>{c(!0)}),k(()=>{c(!1)}),(m,e)=>(I(),_("div",S,[l(a(p),{size:"small",title:"控制"},{default:r(()=>[l(a(T),{class:"form-no-feedback form-data","label-align":"right","label-placement":"left","label-width":"9em"},{default:r(()=>[l(a(n),{label:"转换模式："},{default:r(()=>[l(a(U),{value:t.convertMode,"onUpdate:value":e[0]||(e[0]=o=>t.convertMode=o),options:[{label:"本地时间 -> 时间戳",value:"toTimestamp"},{label:"时间戳 -> 本地时间",value:"toLocalTime"}]},null,8,["value"])]),_:1}),l(a(n),{label:"时间戳单位："},{default:r(()=>[l(a(U),{value:t.timestampUnit,"onUpdate:value":e[1]||(e[1]=o=>t.timestampUnit=o),options:[{label:"毫秒（ms）",value:"ms"},{label:"秒（s）",value:"s"}]},null,8,["value"])]),_:1}),l(a(n),{label:"自动更新："},{default:r(()=>[l(a(B),{value:t.autoUpdate,"onUpdate:value":e[2]||(e[2]=o=>t.autoUpdate=o)},null,8,["value"])]),_:1}),l(a(n),{label:"操作："},{default:r(()=>[l(a(D),null,{default:r(()=>[l(a(b),{type:"primary",onClick:L},{default:r(()=>e[9]||(e[9]=[u("转换")])),_:1}),l(a(b),{type:"error",onClick:x},{default:r(()=>e[10]||(e[10]=[u("清空")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(a(p),{size:"small",title:"当前"},{default:r(()=>[l(a(T),{class:"form-no-feedback form-data","label-align":"right","label-placement":"left","label-width":"9em",onContextmenu:e[5]||(e[5]=N(()=>{},["stop"]))},{default:r(()=>[l(a(n),{label:"本地时间："},{default:r(()=>[l(a(s),{value:t.currentLocalTime,"onUpdate:value":e[3]||(e[3]=o=>t.currentLocalTime=o),placeholder:"",type:"text",readonly:!0},null,8,["value"])]),_:1}),l(a(n),{label:"时间戳（ms）："},{default:r(()=>[l(a(s),{value:t.currentTimestamp,"onUpdate:value":e[4]||(e[4]=o=>t.currentTimestamp=o),placeholder:"",type:"text",readonly:!0},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(a(p),{size:"small",title:"转换"},{default:r(()=>[l(a(T),{class:"form-no-feedback form-data","label-align":"right","label-placement":"left","label-width":"9em",onContextmenu:e[8]||(e[8]=N(()=>{},["stop"]))},{default:r(()=>[l(a(n),{label:"本地时间："},{default:r(()=>[l(a(s),{value:t.convertLocalTime,"onUpdate:value":e[6]||(e[6]=o=>t.convertLocalTime=o),placeholder:"参考格式：年-月-日 时:分:秒",readonly:t.convertMode==="toLocalTime",type:"text"},null,8,["value","readonly"])]),_:1}),l(a(n),{label:"时间戳："},{default:r(()=>[l(a(s),{value:t.convertTimestamp,"onUpdate:value":e[7]||(e[7]=o=>t.convertTimestamp=o),placeholder:g.value,readonly:t.convertMode==="toTimestamp",type:"text"},null,8,["value","placeholder","readonly"])]),_:1})]),_:1}),l(a(d),null,{default:r(()=>e[11]||(e[11]=[u("注意：")])),_:1}),l(a(d),null,{default:r(()=>e[12]||(e[12]=[u("在“本地时间 -> 时间戳”的模式中，若输入的“本地时间”不包含“时间”部分（例如 2025-02-01），将会加上本地时区与零时区的时差后计算。")])),_:1}),l(a(d),null,{default:r(()=>e[13]||(e[13]=[u("即本地时区为北京时间（UTC+8）时按 08:00 计算，本地时区为东京时间（UTC+9）时按 09:00 计算。")])),_:1})]),_:1})]))}},Q=y(z,[["__scopeId","data-v-65091c3a"]]);export{Q as default};
