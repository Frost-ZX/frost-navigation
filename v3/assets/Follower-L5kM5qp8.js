import{aA as _,D as X,c2 as de,M as H,N as y,W as ae,X as pe,R as he,m as O,H as D,E as C,U as W,f as F,T as fe,bY as me,c3 as ce,ac as J,c4 as P,c5 as ve,b7 as be,I as z,a0 as N,aj as we,l as V,al as xe,am as ye,aG as Me}from"./index-BKvL4bCX.js";let E=[];const Q=new WeakMap;function $e(){E.forEach(n=>n(...Q.get(n))),E=[]}function ge(n,...e){Q.set(n,e),!E.includes(n)&&E.push(n)===1&&requestAnimationFrame($e)}let $,g;const ze=()=>{var n,e;$=de?(e=(n=document)===null||n===void 0?void 0:n.fonts)===null||e===void 0?void 0:e.ready:void 0,g=!1,$!==void 0?$.then(()=>{g=!0}):g=!0};ze();function Be(n){if(g)return;let e=!1;_(()=>{g||$==null||$.then(()=>{e||n()})}),X(()=>{e=!0})}const We=H("n-internal-select-menu"),Ae=H("n-internal-select-menu-body"),Z="__disabled__";function R(n){const e=y(ae,null),t=y(pe,null),i=y(he,null),u=y(Ae,null),m=O();if(typeof document<"u"){m.value=document.fullscreenElement;const d=()=>{m.value=document.fullscreenElement};_(()=>{D("fullscreenchange",document,d)}),X(()=>{C("fullscreenchange",document,d)})}return W(()=>{var d;const{to:h}=n;return h!==void 0?h===!1?Z:h===!0?m.value||"body":h:e!=null&&e.value?(d=e.value.$el)!==null&&d!==void 0?d:e.value:t!=null&&t.value?t.value:i!=null&&i.value?i.value:u!=null&&u.value?u.value:h!=null?h:m.value||"body"})}R.tdkey=Z;R.propTo={type:[String,Object,Boolean],default:void 0};let x=null;function ee(){if(x===null&&(x=document.getElementById("v-binder-view-measurer"),x===null)){x=document.createElement("div"),x.id="v-binder-view-measurer";const{style:n}=x;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(x)}return x.getBoundingClientRect()}function Ce(n,e){const t=ee();return{top:e,left:n,height:0,width:0,right:t.width-n,bottom:t.height-e}}function j(n){const e=n.getBoundingClientRect(),t=ee();return{left:e.left-t.left,top:e.top-t.top,bottom:t.height+t.top-e.bottom,right:t.width+t.left-e.right,width:e.width,height:e.height}}function Oe(n){return n.nodeType===9?null:n.parentNode}function te(n){if(n===null)return null;const e=Oe(n);if(e===null)return null;if(e.nodeType===9)return document;if(e.nodeType===1){const{overflow:t,overflowX:i,overflowY:u}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(t+u+i))return e}return te(e)}const _e=F({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var e;fe("VBinder",(e=me())===null||e===void 0?void 0:e.proxy);const t=y("VBinder",null),i=O(null),u=r=>{i.value=r,t&&n.syncTargetWithParent&&t.setTargetRef(r)};let m=[];const d=()=>{let r=i.value;for(;r=te(r),r!==null;)m.push(r);for(const v of m)D("scroll",v,b,!0)},h=()=>{for(const r of m)C("scroll",r,b,!0);m=[]},l=new Set,c=r=>{l.size===0&&d(),l.has(r)||l.add(r)},w=r=>{l.has(r)&&l.delete(r),l.size===0&&h()},b=()=>{ge(o)},o=()=>{l.forEach(r=>r())},s=new Set,p=r=>{s.size===0&&D("resize",window,f),s.has(r)||s.add(r)},a=r=>{s.has(r)&&s.delete(r),s.size===0&&C("resize",window,f)},f=()=>{s.forEach(r=>r())};return X(()=>{C("resize",window,f),h()}),{targetRef:i,setTargetRef:u,addScrollListener:c,removeScrollListener:w,addResizeListener:p,removeResizeListener:a}},render(){return ce("binder",this.$slots)}}),Fe=F({name:"Target",setup(){const{setTargetRef:n,syncTarget:e}=y("VBinder");return{syncTarget:e,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:e}=this;return n?J(P("follower",this.$slots),[[e]]):P("follower",this.$slots)}}),{c:B}=ve(),Ee="vueuc-style",A={top:"bottom",bottom:"top",left:"right",right:"left"},U={start:"end",center:"center",end:"start"},S={top:"height",bottom:"height",left:"width",right:"width"},Xe={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Ye={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Ie={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},q={top:!0,bottom:!1,left:!0,right:!1},G={top:"end",bottom:"start",left:"end",right:"start"};function Ne(n,e,t,i,u,m){if(!u||m)return{placement:n,top:0,left:0};const[d,h]=n.split("-");let l=h!=null?h:"center",c={top:0,left:0};const w=(s,p,a)=>{let f=0,r=0;const v=t[s]-e[p]-e[s];return v>0&&i&&(a?r=q[p]?v:-v:f=q[p]?v:-v),{left:f,top:r}},b=d==="left"||d==="right";if(l!=="center"){const s=Ie[n],p=A[s],a=S[s];if(t[a]>e[a]){if(e[s]+e[a]<t[a]){const f=(t[a]-e[a])/2;e[s]<f||e[p]<f?e[s]<e[p]?(l=U[h],c=w(a,p,b)):c=w(a,s,b):l="center"}}else t[a]<e[a]&&e[p]<0&&e[s]>e[p]&&(l=U[h])}else{const s=d==="bottom"||d==="top"?"left":"top",p=A[s],a=S[s],f=(t[a]-e[a])/2;(e[s]<f||e[p]<f)&&(e[s]>e[p]?(l=G[s],c=w(a,s,b)):(l=G[p],c=w(a,p,b)))}let o=d;return e[d]<t[S[d]]&&e[d]<e[A[d]]&&(o=A[d]),{placement:l!=="center"?"".concat(o,"-").concat(l):o,left:c.left,top:c.top}}function Ve(n,e){return e?Ye[n]:Xe[n]}function je(n,e,t,i,u,m){if(m)switch(n){case"bottom-start":return{top:"".concat(Math.round(t.top-e.top+t.height),"px"),left:"".concat(Math.round(t.left-e.left),"px"),transform:"translateY(-100%)"};case"bottom-end":return{top:"".concat(Math.round(t.top-e.top+t.height),"px"),left:"".concat(Math.round(t.left-e.left+t.width),"px"),transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:"".concat(Math.round(t.top-e.top),"px"),left:"".concat(Math.round(t.left-e.left),"px"),transform:""};case"top-end":return{top:"".concat(Math.round(t.top-e.top),"px"),left:"".concat(Math.round(t.left-e.left+t.width),"px"),transform:"translateX(-100%)"};case"right-start":return{top:"".concat(Math.round(t.top-e.top),"px"),left:"".concat(Math.round(t.left-e.left+t.width),"px"),transform:"translateX(-100%)"};case"right-end":return{top:"".concat(Math.round(t.top-e.top+t.height),"px"),left:"".concat(Math.round(t.left-e.left+t.width),"px"),transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:"".concat(Math.round(t.top-e.top),"px"),left:"".concat(Math.round(t.left-e.left),"px"),transform:""};case"left-end":return{top:"".concat(Math.round(t.top-e.top+t.height),"px"),left:"".concat(Math.round(t.left-e.left),"px"),transform:"translateY(-100%)"};case"top":return{top:"".concat(Math.round(t.top-e.top),"px"),left:"".concat(Math.round(t.left-e.left+t.width/2),"px"),transform:"translateX(-50%)"};case"right":return{top:"".concat(Math.round(t.top-e.top+t.height/2),"px"),left:"".concat(Math.round(t.left-e.left+t.width),"px"),transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:"".concat(Math.round(t.top-e.top+t.height/2),"px"),left:"".concat(Math.round(t.left-e.left),"px"),transform:"translateY(-50%)"};case"bottom":default:return{top:"".concat(Math.round(t.top-e.top+t.height),"px"),left:"".concat(Math.round(t.left-e.left+t.width/2),"px"),transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:"".concat(Math.round(t.top-e.top+t.height+i),"px"),left:"".concat(Math.round(t.left-e.left+u),"px"),transform:""};case"bottom-end":return{top:"".concat(Math.round(t.top-e.top+t.height+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width+u),"px"),transform:"translateX(-100%)"};case"top-start":return{top:"".concat(Math.round(t.top-e.top+i),"px"),left:"".concat(Math.round(t.left-e.left+u),"px"),transform:"translateY(-100%)"};case"top-end":return{top:"".concat(Math.round(t.top-e.top+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width+u),"px"),transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:"".concat(Math.round(t.top-e.top+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width+u),"px"),transform:""};case"right-end":return{top:"".concat(Math.round(t.top-e.top+t.height+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width+u),"px"),transform:"translateY(-100%)"};case"left-start":return{top:"".concat(Math.round(t.top-e.top+i),"px"),left:"".concat(Math.round(t.left-e.left+u),"px"),transform:"translateX(-100%)"};case"left-end":return{top:"".concat(Math.round(t.top-e.top+t.height+i),"px"),left:"".concat(Math.round(t.left-e.left+u),"px"),transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:"".concat(Math.round(t.top-e.top+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width/2+u),"px"),transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:"".concat(Math.round(t.top-e.top+t.height/2+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width+u),"px"),transform:"translateY(-50%)"};case"left":return{top:"".concat(Math.round(t.top-e.top+t.height/2+i),"px"),left:"".concat(Math.round(t.left-e.left+u),"px"),transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:"".concat(Math.round(t.top-e.top+t.height+i),"px"),left:"".concat(Math.round(t.left-e.left+t.width/2+u),"px"),transform:"translateX(-50%)"}}}const Se=B([B(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),B(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[B("> *",{pointerEvents:"all"})])]),Le=F({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const e=y("VBinder"),t=W(()=>n.enabled!==void 0?n.enabled:n.show),i=O(null),u=O(null),m=()=>{const{syncTrigger:o}=n;o.includes("scroll")&&e.addScrollListener(l),o.includes("resize")&&e.addResizeListener(l)},d=()=>{e.removeScrollListener(l),e.removeResizeListener(l)};_(()=>{t.value&&(l(),m())});const h=be();Se.mount({id:"vueuc/binder",head:!0,anchorMetaName:Ee,ssr:h}),X(()=>{d()}),Be(()=>{t.value&&l()});const l=()=>{if(!t.value)return;const o=i.value;if(o===null)return;const s=e.targetRef,{x:p,y:a,overlap:f}=n,r=p!==void 0&&a!==void 0?Ce(p,a):j(s);o.style.setProperty("--v-target-width","".concat(Math.round(r.width),"px")),o.style.setProperty("--v-target-height","".concat(Math.round(r.height),"px"));const{width:v,minWidth:Y,placement:L,internalShift:ne,flip:oe}=n;o.setAttribute("v-placement",L),f?o.setAttribute("v-overlap",""):o.removeAttribute("v-overlap");const{style:M}=o;v==="target"?M.width="".concat(r.width,"px"):v!==void 0?M.width=v:M.width="",Y==="target"?M.minWidth="".concat(r.width,"px"):Y!==void 0?M.minWidth=Y:M.minWidth="";const re=j(o),le=j(u.value),{left:k,top:K,placement:I}=Ne(L,r,re,ne,oe,f),T=Ve(I,f),{left:ie,top:se,transform:ue}=je(I,le,r,K,k,f);o.setAttribute("v-placement",I),o.style.setProperty("--v-offset-left","".concat(Math.round(k),"px")),o.style.setProperty("--v-offset-top","".concat(Math.round(K),"px")),o.style.transform="translateX(".concat(ie,") translateY(").concat(se,") ").concat(ue),o.style.setProperty("--v-transform-origin",T),o.style.transformOrigin=T};z(t,o=>{o?(m(),c()):d()});const c=()=>{Me().then(l).catch(o=>console.error(o))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(o=>{z(N(n,o),l)}),["teleportDisabled"].forEach(o=>{z(N(n,o),c)}),z(N(n,"syncTrigger"),o=>{o.includes("resize")?e.addResizeListener(l):e.removeResizeListener(l),o.includes("scroll")?e.addScrollListener(l):e.removeScrollListener(l)});const w=we(),b=W(()=>{const{to:o}=n;if(o!==void 0)return o;w.value});return{VBinder:e,mergedEnabled:t,offsetContainerRef:u,followerRef:i,mergedTo:b,syncPosition:l}},render(){return V(ye,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,e;const t=V("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[V("div",{class:"v-binder-follower-content",ref:"followerRef"},(e=(n=this.$slots).default)===null||e===void 0?void 0:e.call(n))]);return this.zindexable?J(t,[[xe,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):t}})}});export{_e as B,Fe as V,Le as a,B as b,Ee as c,ge as d,Ae as e,We as i,R as u};
