import{N as U,b1 as D,g as C,K as Z,d as x,c as G,a as R,b as Q,f as X,i as Y,m as ee,aA as te,I as z,a0 as B,u as T,k as ne,l as L,_ as oe,A as re,x as se,n as le,q as l,w as f,p as i,o as $,aZ as S,aN as w,aK as O,a$ as H,$ as I,b2 as ie}from"./index-BKvL4bCX.js";import{a as ae}from"./index-JVWQwFoa.js";import{N as P}from"./Flex-C-gYDqtT.js";import{N as ue}from"./InputNumber-BVO98d2U.js";import{N as de}from"./Switch-Dl8nePp7.js";import{N as ce}from"./Input-CylcvuRs.js";import"./get-slot-Bk_rJcZu.js";import"./use-merged-state-CKbFJlkG.js";function fe(t,e){const n=U(D,null);return C(()=>t.hljs||(n==null?void 0:n.mergedHljsRef.value))}function me(t){const{textColor2:e,fontSize:n,fontWeightStrong:j,textColor3:m}=t;return{textColor:e,fontSize:n,fontWeightStrong:j,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:m}}const he={name:"Code",common:Z,self:me},pe=x([G("code","\n font-size: var(--n-font-size);\n font-family: var(--n-font-family);\n ",[R("show-line-numbers","\n display: flex;\n "),Q("line-numbers","\n user-select: none;\n padding-right: 12px;\n text-align: right;\n transition: color .3s var(--n-bezier);\n color: var(--n-line-number-text-color);\n "),R("word-wrap",[x("pre","\n white-space: pre-wrap;\n word-break: break-all;\n ")]),x("pre","\n margin: 0;\n line-height: inherit;\n font-size: inherit;\n font-family: inherit;\n "),x("[class^=hljs]","\n color: var(--n-text-color);\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ")]),({props:t})=>{const e="".concat(t.bPrefix,"code");return["".concat(e," .hljs-comment,\n ").concat(e," .hljs-quote {\n color: var(--n-mono-3);\n font-style: italic;\n }"),"".concat(e," .hljs-doctag,\n ").concat(e," .hljs-keyword,\n ").concat(e," .hljs-formula {\n color: var(--n-hue-3);\n }"),"".concat(e," .hljs-section,\n ").concat(e," .hljs-name,\n ").concat(e," .hljs-selector-tag,\n ").concat(e," .hljs-deletion,\n ").concat(e," .hljs-subst {\n color: var(--n-hue-5);\n }"),"".concat(e," .hljs-literal {\n color: var(--n-hue-1);\n }"),"".concat(e," .hljs-string,\n ").concat(e," .hljs-regexp,\n ").concat(e," .hljs-addition,\n ").concat(e," .hljs-attribute,\n ").concat(e," .hljs-meta-string {\n color: var(--n-hue-4);\n }"),"".concat(e," .hljs-built_in,\n ").concat(e," .hljs-class .hljs-title {\n color: var(--n-hue-6-2);\n }"),"".concat(e," .hljs-attr,\n ").concat(e," .hljs-variable,\n ").concat(e," .hljs-template-variable,\n ").concat(e," .hljs-type,\n ").concat(e," .hljs-selector-class,\n ").concat(e," .hljs-selector-attr,\n ").concat(e," .hljs-selector-pseudo,\n ").concat(e," .hljs-number {\n color: var(--n-hue-6);\n }"),"".concat(e," .hljs-symbol,\n ").concat(e," .hljs-bullet,\n ").concat(e," .hljs-link,\n ").concat(e," .hljs-meta,\n ").concat(e," .hljs-selector-id,\n ").concat(e," .hljs-title {\n color: var(--n-hue-2);\n }"),"".concat(e," .hljs-emphasis {\n font-style: italic;\n }"),"".concat(e," .hljs-strong {\n font-weight: var(--n-font-weight-strong);\n }"),"".concat(e," .hljs-link {\n text-decoration: underline;\n }")]}]),je=Object.assign(Object.assign({},T.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),ge=X({name:"Code",props:je,setup(t,{slots:e}){const{internalNoHighlight:n}=t,{mergedClsPrefixRef:j,inlineThemeDisabled:m}=Y(),g=ee(null),_=n?{value:void 0}:fe(t),v=(s,u,a)=>{const{value:c}=_;return!c||!(s&&c.getLanguage(s))?null:c.highlight(a?u.trim():u,{language:s}).value},r=C(()=>t.inline||t.wordWrap?!1:t.showLineNumbers),o=()=>{if(e.default)return;const{value:s}=g;if(!s)return;const{language:u}=t,a=t.uri?window.decodeURIComponent(t.code):t.code;if(u){const p=v(u,a,t.trim);if(p!==null){if(t.inline)s.innerHTML=p;else{const N=s.querySelector(".__code__");N&&s.removeChild(N);const y=document.createElement("pre");y.className="__code__",y.innerHTML=p,s.appendChild(y)}return}}if(t.inline){s.textContent=a;return}const c=s.querySelector(".__code__");if(c)c.textContent=a;else{const p=document.createElement("pre");p.className="__code__",p.textContent=a,s.innerHTML="",s.appendChild(p)}};te(o),z(B(t,"language"),o),z(B(t,"code"),o),n||z(_,o);const d=T("Code","-code",pe,he,t,j),h=C(()=>{const{common:{cubicBezierEaseInOut:s,fontFamilyMono:u},self:{textColor:a,fontSize:c,fontWeightStrong:p,lineNumberTextColor:N,"mono-3":y,"hue-1":F,"hue-2":J,"hue-3":M,"hue-4":V,"hue-5":W,"hue-5-2":K,"hue-6":q,"hue-6-2":A}}=d.value,{internalFontSize:k}=t;return{"--n-font-size":k?"".concat(k,"px"):c,"--n-font-family":u,"--n-font-weight-strong":p,"--n-bezier":s,"--n-text-color":a,"--n-mono-3":y,"--n-hue-1":F,"--n-hue-2":J,"--n-hue-3":M,"--n-hue-4":V,"--n-hue-5":W,"--n-hue-5-2":K,"--n-hue-6":q,"--n-hue-6-2":A,"--n-line-number-text-color":N}}),b=m?ne("code",C(()=>"".concat(t.internalFontSize||"a")),h,t):void 0;return{mergedClsPrefix:j,codeRef:g,mergedShowLineNumbers:r,lineNumbers:C(()=>{let s=1;const u=[];let a=!1;for(const c of t.code)c==="\n"?(a=!0,u.push(s++)):a=!1;return a||u.push(s++),u.join("\n")}),cssVars:m?void 0:h,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender}},render(){var t,e;const{mergedClsPrefix:n,wordWrap:j,mergedShowLineNumbers:m,onRender:g}=this;return g==null||g(),L("code",{class:["".concat(n,"-code"),this.themeClass,j&&"".concat(n,"-code--word-wrap"),m&&"".concat(n,"-code--show-line-numbers")],style:this.cssVars,ref:"codeRef"},m?L("pre",{class:"".concat(n,"-code__line-numbers")},this.lineNumbers):null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}),be="[compareString]";function $e(t="",e=""){return typeof t=="string"&&typeof e=="string"?t.localeCompare(e,["co"],{caseFirst:"upper",numeric:!0}):(console.error(be,"参数为空或不是字符串"),0)}function E(t){return Object.prototype.toString.call(t)==="[object Array]"}function ve(t){return Object.prototype.toString.call(t)==="[object Object]"}const ye={class:"tool-detail-page"},Ce={class:"config-item"},_e={class:"config-item__content"},Ne={class:"config-item"},xe={class:"config-item__content"},Se={__name:"JsonFormatter",setup(t){const e=ae({legacy:!0,read:!1}),n=re({enabledSort:!0,indentSize:2,jsonInput:"",jsonOutput:""});function j(){n.jsonInput=""}function m(){n.jsonOutput=""}function g(){return e.isSupported?e.copy(n.jsonOutput).then(()=>{I.success("复制成功")}).catch(r=>{console.error("复制失败："),console.error(r),I.error("复制失败：异常")}):(I.error("复制失败：当前浏览器不支持该操作"),Promise.resolve())}function _(){try{let r=JSON.parse(n.jsonInput);n.enabledSort&&(r=v(r)),n.jsonOutput=JSON.stringify(r,null,n.indentSize)}catch(r){console.warn("格式化 JSON 失败："),console.warn(r),ie.create({content:String(r),duration:0,title:"格式化 JSON 失败",type:"error"}),n.jsonOutput=""}}function v(r){if(!E(r)&&!ve(r))return r;if(E(r))return r.map(h=>v(h));let o=Object.keys(r).sort((h,b)=>$e(h,b)),d={};for(let h of o)d[h]=v(r[h]);return d}return(r,o)=>(se(),le("div",ye,[l(i(S),{size:"small",title:"设置"},{default:f(()=>[l(i(P),null,{default:f(()=>[$("div",Ce,[o[5]||(o[5]=$("div",{class:"config-item__label"},"缩进空格：",-1)),$("div",_e,[l(i(ue),{value:n.indentSize,"onUpdate:value":o[0]||(o[0]=d=>n.indentSize=d),min:0,max:8,precision:0,step:1},null,8,["value"])])]),$("div",Ne,[o[6]||(o[6]=$("div",{class:"config-item__label"},"排序属性：",-1)),$("div",xe,[l(i(de),{value:n.enabledSort,"onUpdate:value":o[1]||(o[1]=d=>n.enabledSort=d)},null,8,["value"])])])]),_:1})]),_:1}),l(i(S),{size:"small",title:"操作"},{default:f(()=>[l(i(P),null,{default:f(()=>[l(i(w),{type:"primary",disabled:!n.jsonInput,onClick:_},{default:f(()=>o[7]||(o[7]=[O("格式化")])),_:1},8,["disabled"]),l(i(w),{type:"primary",disabled:!n.jsonOutput,onClick:g},{default:f(()=>o[8]||(o[8]=[O("复制结果")])),_:1},8,["disabled"]),l(i(w),{type:"error",disabled:!n.jsonInput,onClick:j},{default:f(()=>o[9]||(o[9]=[O("清空输入")])),_:1},8,["disabled"]),l(i(w),{type:"error",disabled:!n.jsonOutput,onClick:m},{default:f(()=>o[10]||(o[10]=[O("清空输出")])),_:1},8,["disabled"])]),_:1})]),_:1}),l(i(S),{size:"small",title:"输入内容"},{default:f(()=>[l(i(ce),{value:n.jsonInput,"onUpdate:value":o[2]||(o[2]=d=>n.jsonInput=d),class:"json-input",placeholder:"请输入 JSON 字符串",type:"textarea",rows:8,onContextmenu:o[3]||(o[3]=H(()=>{},["stop"]))},null,8,["value"])]),_:1}),l(i(S),{size:"small",title:"输出内容"},{default:f(()=>[l(i(ge),{class:"json-output",language:"json",code:n.jsonOutput,"show-line-numbers":!0,onContextmenu:o[4]||(o[4]=H(()=>{},["stop"]))},null,8,["code"])]),_:1})]))}},He=oe(Se,[["__scopeId","data-v-6be925d1"]]);export{He as default};
