System.register(["./index-legacy-DtdHQVf4.js","./Form-legacy-B0ghoUZf.js","./FormItem-legacy-CF8u1zse.js","./InputGroup-legacy-CtoD_w_3.js","./InputNumber-legacy-DkyliKFP.js","./Select-legacy-D__twIEj.js","./get-legacy-DX4lm7ue.js","./Input-legacy-BYW6Nb2d.js","./use-merged-state-legacy-CAoj7XEw.js","./Popover-legacy---2d6L80.js","./Follower-legacy-CXIJcsoN.js"],(function(e,l){"use strict";var a,t,n,d,i,u,o,s,m,p,r,f,c,v,g,b,U,_,w;return{setters:[e=>{a=e._,t=e.A,n=e.m,d=e.I,i=e.x,u=e.n,o=e.q,s=e.w,m=e.p,p=e.aZ,r=e.o,f=e.t,c=e.$,v=e.a_},e=>{g=e.N},e=>{b=e.N},e=>{U=e.N},e=>{_=e.N},e=>{w=e.d},null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".tool-detail-page[data-v-b04e04f1] .n-input-number{width:12em}.tool-detail-page[data-v-b04e04f1] .n-select{width:8em}\n/*$vite$:1*/",document.head.appendChild(l);const y={class:"tool-detail-page"};e("default",a({__name:"CalcDownloadTime",setup(e){const l=[{name:"KiB",speed:"KiB/s",rate:1},{name:"MiB",speed:"MiB/s",rate:1024},{name:"GiB",speed:"GiB/s",rate:1048576}],a=t({downloadedUnit:"KiB",downloadedValue:0,sizeUnit:"KiB",sizeValue:0,speedUnit:"KiB",speedValue:0}),V=t({duration:"",time:""}),j=n(null);return d(a,(()=>{clearTimeout(j.value),j.value=setTimeout((()=>{!function(){let{downloadedUnit:e,downloadedValue:t,sizeUnit:n,sizeValue:d,speedUnit:i,speedValue:u}=a;if(0===d||0===u)return V.duration="",void(V.time="");let o=l[l.findIndex((l=>l.name===e))].rate,s=d*l[l.findIndex((e=>e.name===n))].rate-t*o,m=u*l[l.findIndex((e=>e.name===i))].rate;if(s<0)return void c.warning("参数有误，请检查");let p=(s/m).toFixed(0),r=v(),f=r.add(p,"second"),g=f.diff(r,"day"),b=r.add(g,"day"),U=v.duration(f.diff(b)).format("HH 时 mm 分 ss 秒");V.duration=`${g} 天 ${U}`,V.time=f.format("YYYY-MM-DD HH:mm:ss")}()}),1e3)}),{deep:!0}),(e,t)=>(i(),u("div",y,[o(m(p),{size:"small",title:"参数"},{default:s((()=>[o(m(g),{class:"form-no-feedback","label-align":"right","label-placement":"left","label-width":"auto"},{default:s((()=>[o(m(b),{label:"文件大小："},{default:s((()=>[o(m(U),null,{default:s((()=>[o(m(_),{value:a.sizeValue,"onUpdate:value":t[0]||(t[0]=e=>a.sizeValue=e),precision:2,min:0,max:1e4,step:1},null,8,["value"]),o(m(w),{value:a.sizeUnit,"onUpdate:value":t[1]||(t[1]=e=>a.sizeUnit=e),"label-field":"name","value-field":"name",options:l},null,8,["value"])])),_:1})])),_:1}),o(m(b),{label:"已下载大小："},{default:s((()=>[o(m(U),null,{default:s((()=>[o(m(_),{value:a.downloadedValue,"onUpdate:value":t[2]||(t[2]=e=>a.downloadedValue=e),precision:2,min:0,max:1e4,step:1},null,8,["value"]),o(m(w),{value:a.downloadedUnit,"onUpdate:value":t[3]||(t[3]=e=>a.downloadedUnit=e),"label-field":"name","value-field":"name",options:l},null,8,["value"])])),_:1})])),_:1}),o(m(b),{label:"下载速度："},{default:s((()=>[o(m(U),null,{default:s((()=>[o(m(_),{value:a.speedValue,"onUpdate:value":t[4]||(t[4]=e=>a.speedValue=e),precision:2,min:0,max:1e4,step:1},null,8,["value"]),o(m(w),{value:a.speedUnit,"onUpdate:value":t[5]||(t[5]=e=>a.speedUnit=e),"label-field":"speed","value-field":"name",options:l},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1}),o(m(p),{size:"small",title:"计算结果"},{default:s((()=>[o(m(g),{class:"form-no-feedback","label-align":"right","label-placement":"left","label-width":"auto"},{default:s((()=>[o(m(b),{label:"大约需要时长："},{default:s((()=>[r("span",null,f(V.duration||"未计算"),1)])),_:1}),o(m(b),{label:"大约结束时间："},{default:s((()=>[r("span",null,f(V.time||"未计算"),1)])),_:1})])),_:1})])),_:1})]))}},[["__scopeId","data-v-b04e04f1"]]))}}}));
