System.register(["./index-legacy-DtdHQVf4.js","./common-data-legacy-CcGpWczN.js","./ClockColor-legacy-BUZqXJtJ.js"],(function(a,e){"use strict";var t,i,n,r,o,l,c,d,g,v,s,u,m,b,p,k,h,f,w,z,A,y,S,x,M,I,C,E,_,$,j,R,L,P,W,q,B,D,T,X,J,N,Y,F;return{setters:[a=>{t=a._,i=a.m,n=a.A,r=a.g,o=a.I,l=a.aA,c=a.D,d=a.x,g=a.n,v=a.o,s=a.bJ,u=a.q,m=a.ac,b=a.ad,p=a.p,k=a.aX,h=a.b6,f=a.a$},a=>{w=a.f,z=a.g,A=a.h,y=a.j,S=a.k,x=a.l,M=a.m,I=a.n,C=a.o,E=a.p,_=a.q,$=a.r,j=a.s,R=a.u,L=a.v,P=a.w,W=a.t,q=a.e,B=a.d,D=a.x,T=a.y,X=a.z,J=a.A,N=a.i,Y=a.B},a=>{F=a.default}],execute:function(){var e=document.createElement("style");e.textContent='.bg-contain[data-v-d36ba493]{background-position:center;background-repeat:no-repeat;background-size:contain}.bg-cover[data-v-d36ba493]{background-position:center;background-repeat:no-repeat;background-size:cover}.clock-element[data-v-d36ba493]{--pointer-lower-angle: 0deg;--pointer-upper-angle: 0deg;position:relative;width:32em;height:32em;border-radius:50%;font-size:12px;overflow:hidden;filter:brightness(1.1) saturate(.9)}.clock-outer[data-v-d36ba493]{position:absolute;top:-1%;left:-1%;width:102%;height:102%;background-image:var(--image-clock-bg-outer)}.clock-inner[data-v-d36ba493]{--size: 46%;position:absolute;top:calc(50% - var(--size) / 2);left:calc(50% - var(--size) / 2);width:var(--size);height:var(--size);border-radius:50%;background-color:#000;overflow:hidden}.clock-inner .inner-bg[data-v-d36ba493],.clock-inner .inner-star[data-v-d36ba493]{position:absolute;top:0;left:0;width:100%;height:100%}.clock-inner .inner-bg[data-v-d36ba493]{background-image:var(--image-clock-bg-inner);animation:rotation-backward-d36ba493 60s linear infinite}.clock-inner .inner-star[data-v-d36ba493]{background-image:var(--image-clock-particles)}.clock-gear[data-v-d36ba493]{--size: 120%;--ratio: 1.55;position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6}.clock-gear>div[data-v-d36ba493]{--ani-duration: 2s;position:absolute;animation-duration:var(--ani-duration);animation-iteration-count:infinite;animation-timing-function:linear;transform:rotate(0);will-change:transform}.clock-gear>div[data-v-d36ba493]:after{display:block;content:"";width:100%;height:100%;background-position:center;background-repeat:no-repeat;background-size:contain;animation-duration:calc(var(--ani-duration) / 12);animation-iteration-count:infinite;animation-name:inherit;animation-play-state:paused;animation-timing-function:linear}.clock-gear .gear-1[data-v-d36ba493]{--ani-duration: calc(1s * var(--gear-teeth) * var(--ratio));--gear-teeth: 32;top:calc(50% - var(--size) / 2);left:calc(50% - var(--size) / 2);width:var(--size);height:var(--size);animation-name:rotation-backward-d36ba493}.clock-gear .gear-1[data-v-d36ba493]:after{background-image:var(--image-clock-gear-1)}.clock-gear .gear-2[data-v-d36ba493]{--ani-duration: calc(1s * var(--gear-teeth) * var(--ratio));--gear-teeth: 32;top:calc(0% - var(--size) / 2);left:calc(72% - var(--size) / 2);width:var(--size);height:var(--size);animation-name:rotation-backward-d36ba493}.clock-gear .gear-2[data-v-d36ba493]:after{background-image:var(--image-clock-gear-1)}.clock-gear .gear-3[data-v-d36ba493]{--ani-duration: calc(1s * var(--gear-teeth) * var(--ratio));--gear-teeth: 32;top:calc(77% - var(--size) / 2);left:calc(100% - var(--size) / 2);width:var(--size);height:var(--size);animation-name:rotation-backward-d36ba493;opacity:.5}.clock-gear .gear-3[data-v-d36ba493]:after{background-image:var(--image-clock-gear-1)}.clock-gear .gear-4[data-v-d36ba493]{--angle-offset: 4deg;--ani-duration: calc(1s * var(--gear-teeth) * var(--ratio));--gear-teeth: 32;top:calc(77% - var(--size) / 2);left:calc(100% - var(--size) / 2);width:var(--size);height:var(--size);animation-name:rotation-forward-d36ba493}.clock-gear .gear-4[data-v-d36ba493]:after{background-image:var(--image-clock-gear-4)}.clock-gear .gear-5[data-v-d36ba493]{--ani-duration: calc(1s * (var(--gear-teeth) - 1) * var(--ratio));--gear-teeth: 49;top:calc(60% - var(--size) / 2);left:calc(33% - var(--size) / 2);width:var(--size);height:var(--size);animation-name:rotation-backward-d36ba493}.clock-gear .gear-5[data-v-d36ba493]:after{background-image:var(--image-clock-gear-5)}.clock-gear .gear-6[data-v-d36ba493]{--ani-duration: calc(1s * var(--gear-teeth) * var(--ratio));--gear-teeth: 49;top:calc(42% - var(--size) / 2);left:calc(62% - var(--size) / 2);width:var(--size);height:var(--size);animation-name:rotation-backward-d36ba493}.clock-gear .gear-6[data-v-d36ba493]:after{background-image:var(--image-clock-gear-6)}.clock-rotation .clock-gear>div[data-v-d36ba493]:after{animation-play-state:running}.pointer-wrapper[data-v-d36ba493]{--size: 180%;position:absolute;top:50%;left:50%;width:var(--size);height:var(--size)}.pointer-wrapper.pointer-lower[data-v-d36ba493]{background-image:var(--image-pointer-lower);transform:translate(-50%,-50%) rotate(var(--pointer-lower-angle))}.pointer-wrapper.pointer-upper[data-v-d36ba493]{background-image:var(--image-pointer-upper);transform:translate(-50%,-50%) rotate(var(--pointer-upper-angle))}.pointer-wrapper .pointer-content[data-v-d36ba493]{--width: 5%;position:absolute;left:calc(50% - var(--width) / 2);width:var(--width);height:50%;cursor:grab}.clock-dial[data-v-d36ba493]{--size: 88%;position:absolute;top:calc(50% - var(--size) / 2);left:calc(50% - var(--size) / 2);width:var(--size);height:var(--size);background-image:var(--image-clock-dial);pointer-events:none}.clock-dial .time-icons[data-v-d36ba493]{position:absolute;top:0;left:0;width:100%;height:100%}.clock-dial .time-icons>div[data-v-d36ba493]{--angle-1-diff: calc(var(--self-angle-1) - var(--pointer-lower-angle-value));--angle-1-abs: max(var(--angle-1-diff), var(--angle-1-diff) * -1);--angle-1-use: min(90, var(--angle-1-abs));--angle-2-diff: calc(var(--self-angle-2) - var(--pointer-lower-angle-value));--angle-2-abs: max(var(--angle-2-diff), var(--angle-2-diff) * -1);--angle-2-use: min(90, var(--angle-2-abs));position:absolute;top:0;left:0;width:100%;height:100%;opacity:calc((90 - min(var(--angle-1-use),var(--angle-2-use))) / 90)}.clock-dial .time-icons .time-morning[data-v-d36ba493]{background-image:var(--image-time-icon-morning)}.clock-dial .time-icons .time-noon[data-v-d36ba493]{background-image:var(--image-time-icon-noon)}.clock-dial .time-icons .time-dusk[data-v-d36ba493]{background-image:var(--image-time-icon-dusk)}.clock-dial .time-icons .time-night[data-v-d36ba493]{background-image:var(--image-time-icon-night)}.clock-mask[data-v-d36ba493]{position:absolute;left:0;top:0;z-index:100;width:100%;height:100%;cursor:wait}@keyframes rotation-forward-d36ba493{0%{transform:rotate(calc(0deg + var(--angle-offset, 0deg)))}to{transform:rotate(calc(360deg + var(--angle-offset, 0deg)))}}@keyframes rotation-backward-d36ba493{0%{transform:rotate(calc(360deg + var(--angle-offset, 0deg)))}to{transform:rotate(calc(0deg + var(--angle-offset, 0deg)))}}\n/*$vite$:1*/',document.head.appendChild(e);const G={class:"clock-inner"},H={class:"pointer-wrapper pointer-upper bg-contain"},K={class:"clock-mask"};a("default",t({__name:"ClockElement",setup(a,{expose:e}){const t=i(null),O=n({isRotation:!1,lastAngle:0,rotationWatcher:null}),Q=n({viewAngle:0}),U=n({isSecond:!1,dataAngle:0,viewAngle:0});window.upperPointer=U;const V=r((()=>({"--image-clock-bg-inner":w,"--image-clock-bg-outer":z,"--image-clock-dial":A,"--image-clock-gear-1":y,"--image-clock-gear-4":S,"--image-clock-gear-5":x,"--image-clock-gear-6":M,"--image-clock-particles":I,"--image-pointer-lower":C,"--image-pointer-upper":E,"--image-time-icon-dusk":_,"--image-time-icon-morning":$,"--image-time-icon-night":j,"--image-time-icon-noon":R,"--pointer-lower-angle":`${Q.viewAngle}deg`,"--pointer-lower-angle-value":Q.viewAngle,"--pointer-upper-angle":`${U.viewAngle}deg`,"--pointer-upper-angle-value":U.viewAngle}))),Z=r((()=>{const{dataAngle:a,isSecond:e}=U;return e?a+360:a}));return e({handleSubmitTime:function(){let a=Q.viewAngle,e=Z.value,t=e,i=setInterval((()=>{t=Math.max(0,t-2),0===t&&(clearInterval(i),N.value=!1,Y.value="");let n=a+(e-t);Q.viewAngle=n%360,U.dataAngle=t%360,U.isSecond=t>=360}),50);N.value=!0,Y.value=D.value}}),o((()=>Q.viewAngle),(a=>{let e=(a+(a<180?180:-180))/15,t=Math.floor(e),i=Math.round(60*(e-t));L.value=String(t).padStart(2,"0"),P.value=String(i).padStart(2,"0"),W.value=e}),{immediate:!0}),o((()=>U.dataAngle),(a=>{let e=U.isSecond,t=Q.viewAngle,i=U.viewAngle,n=a+(e?360:0),r=0,o=0,l="",c=(i+(i<180?180:-180))/15,d=Math.floor(c),g=Math.round(60*(c-d));t<180?(r=180-t,o=r+360):(r=540-t,o=r+360),l=n<r?"今日":n<o?"次日":"+2日",d>=24&&(d-=24),q.value=n<7.5,B.value=720===n,D.value=l,T.value=String(d).padStart(2,"0"),X.value=String(g).padStart(2,"0"),J.value=c}),{immediate:!0}),l((()=>{O.rotationWatcher=setInterval((function(){const a=Z.value,e=O.lastAngle;O.isRotation=Math.abs(a-e)>=5,O.lastAngle=a}),250)})),c((()=>{clearInterval(O.rotationWatcher)})),(a,e)=>(d(),g("div",{ref_key:"clockElement",ref:t,class:k({"clock-element":!0,"clock-rotation":O.isRotation}),style:h(V.value),onTouchmove:e[1]||(e[1]=f((()=>{}),["prevent"]))},[e[4]||(e[4]=v("div",{class:"clock-outer bg-contain"},null,-1)),v("div",G,[e[2]||(e[2]=s('<div class="inner-bg bg-cover" data-v-d36ba493></div><div class="inner-star bg-cover" data-v-d36ba493></div><div class="clock-gear" data-v-d36ba493><div class="gear-6" data-v-d36ba493></div><div class="gear-5" data-v-d36ba493></div><div class="gear-4" data-v-d36ba493></div><div class="gear-3" data-v-d36ba493></div><div class="gear-2" data-v-d36ba493></div><div class="gear-1" data-v-d36ba493></div></div>',3)),u(F,{"curr-angle":Z.value,"start-angle":Q.viewAngle},null,8,["curr-angle","start-angle"]),e[3]||(e[3]=v("div",{class:"pointer-wrapper pointer-lower bg-contain"},[v("div",{class:"pointer-content"})],-1)),v("div",H,[v("div",{class:"pointer-content",onPointerdown:e[0]||(e[0]=a=>function(){const a=function(a){if(a){const e=a.getBoundingClientRect();return{x:e.left+e.width/2,y:e.top+e.height/2}}return null}(t.value);if(!a)return;const e=a.x,i=a.y;let n=0,r=function(a){let t=Date.now();if(!(t-n>=20))return;n=t;let{pageX:r,pageY:o}=a,l=r-e,c=o-i,d=Math.round(Math.atan2(c,l)*(180/Math.PI)),g=d+(d>=-90?90:450),v=0,s=Q.viewAngle;g>=s?v=g-s:g<s&&(v=g+(360-s));let u=v-U.dataAngle;u<=-180&&(U.isSecond?(v=360,g=360+s):U.isSecond=!0),u>=180&&(U.isSecond?U.isSecond=!1:(v=0,g=s)),U.dataAngle=v,U.viewAngle=g};window.addEventListener("pointermove",r),window.addEventListener("pointerup",(function(){window.removeEventListener("pointermove",r)}),{once:!0})}())},null,32)])]),e[5]||(e[5]=s('<div class="clock-dial bg-contain" data-v-d36ba493><div class="time-icons" data-v-d36ba493><div class="time-morning bg-contain" style="--self-angle-1:270;--self-angle-2:270;" data-v-d36ba493></div><div class="time-noon bg-contain" style="--self-angle-1:0;--self-angle-2:360;" data-v-d36ba493></div><div class="time-dusk bg-contain" style="--self-angle-1:90;--self-angle-2:90;" data-v-d36ba493></div><div class="time-night bg-contain" style="--self-angle-1:180;--self-angle-2:180;" data-v-d36ba493></div></div></div>',1)),m(v("div",K,null,512),[[b,p(N)]])],38))}},[["__scopeId","data-v-d36ba493"]]))}}}));
