import{D as Y,aB as I,aH as B,r as F,R as G,L as z,bI as K,c7 as Z,c8 as ee,aI as q,o as A,c9 as te}from"./index-kyOYeI3c.js";function D(e){return Z()?(ee(e),!0):!1}function C(e){return typeof e=="function"?e():Y(e)}const N=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=Object.prototype.toString,le=e=>ne.call(e)==="[object Object]",ie=()=>{};function re(e,n){function t(...i){return new Promise((l,r)=>{Promise.resolve(e(()=>n.apply(this,i),{fn:n,thisArg:this,args:i})).then(l).catch(r)})}return t}const $=e=>e();function ue(e=$){const n=F(!0);function t(){n.value=!1}function i(){n.value=!0}const l=(...r)=>{n.value&&e(...r)};return{isActive:G(n),pause:t,resume:i,eventFilter:l}}function ae(e){let n;function t(){return n||(n=e()),n}return t.reset=async()=>{const i=n;n=void 0,i&&await i},t}function oe(e){return K()}function se(e,n,t={}){const{eventFilter:i=$,...l}=t;return z(e,re(i,n),l)}function ce(e,n,t={}){const{eventFilter:i,...l}=t,{eventFilter:r,pause:s,resume:d,isActive:c}=ue(i);return{stop:se(e,n,{...l,eventFilter:r}),pause:s,resume:d,isActive:c}}function fe(e,n=!0,t){oe()?I(e,t):n?e():B(e)}function de(e,n,t={}){const{immediate:i=!0}=t,l=F(!1);let r=null;function s(){r&&(clearTimeout(r),r=null)}function d(){l.value=!1,s()}function c(...v){s(),l.value=!0,r=setTimeout(()=>{l.value=!1,r=null,e(...v)},C(n))}return i&&(l.value=!0,N&&c()),D(d),{isPending:G(l),start:c,stop:d}}function ve(e,n,t){return z(e,(l,r,s)=>{l&&n(l,r,s)},{...t,once:!1})}function W(e){var n;const t=C(e);return(n=t==null?void 0:t.$el)!=null?n:t}const M=N?window:void 0,L=N?window.document:void 0,j=N?window.navigator:void 0;function _(...e){let n,t,i,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,i,l]=e,n=M):[n,t,i,l]=e,!n)return ie;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const r=[],s=()=>{r.forEach(f=>f()),r.length=0},d=(f,a,m,w)=>(f.addEventListener(a,m,w),()=>f.removeEventListener(a,m,w)),c=z(()=>[W(n),C(l)],([f,a])=>{if(s(),!f)return;const m=le(a)?{...a}:a;r.push(...t.flatMap(w=>i.map(E=>d(f,w,E,m))))},{immediate:!0,flush:"post"}),v=()=>{c(),s()};return D(v),v}function pe(){const e=F(!1),n=K();return n&&I(()=>{e.value=!0},n),e}function R(e){const n=pe();return A(()=>(n.value,!!e()))}function P(e,n={}){const{controls:t=!1,navigator:i=j}=n,l=R(()=>i&&"permissions"in i),r=q(),s=typeof e=="string"?{name:e}:e,d=q(),c=()=>{var f,a;d.value=(a=(f=r.value)==null?void 0:f.state)!=null?a:"prompt"};_(r,"change",c);const v=ae(async()=>{if(l.value){if(!r.value)try{r.value=await i.permissions.query(s)}catch(f){r.value=void 0}finally{c()}if(t)return te(r.value)}});return v(),t?{state:d,isSupported:l,query:v}:d}function Ee(e={}){const{navigator:n=j,read:t=!1,source:i,copiedDuring:l=1500,legacy:r=!1}=e,s=R(()=>n&&"clipboard"in n),d=P("clipboard-read"),c=P("clipboard-write"),v=A(()=>s.value||r),f=F(""),a=F(!1),m=de(()=>a.value=!1,l);function w(){s.value&&u(d.value)?n.clipboard.readText().then(p=>{f.value=p}):f.value=g()}v.value&&t&&_(["copy","cut"],w);async function E(p=C(i)){v.value&&p!=null&&(s.value&&u(c.value)?await n.clipboard.writeText(p):b(p),f.value=p,a.value=!0,m.start())}function b(p){const S=document.createElement("textarea");S.value=p!=null?p:"",S.style.position="absolute",S.style.opacity="0",document.body.appendChild(S),S.select(),document.execCommand("copy"),S.remove()}function g(){var p,S,k;return(k=(S=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:S.toString())!=null?k:""}function u(p){return p==="granted"||p==="prompt"}return{isSupported:v,text:f,copied:a,copy:E}}const O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},T="__vueuse_ssr_handlers__",me=we();function we(){return T in O||(O[T]=O[T]||{}),O[T]}function ye(e,n){return me[e]||n}function ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const be={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function Se(e,n,t,i={}){var l;const{flush:r="pre",deep:s=!0,listenToStorageChanges:d=!0,writeDefaults:c=!0,mergeDefaults:v=!1,shallow:f,window:a=M,eventFilter:m,onError:w=o=>{console.error(o)},initOnMounted:E}=i,b=(f?q:F)(typeof n=="function"?n():n);if(!t)try{t=ye("getDefaultStorage",()=>{var o;return(o=M)==null?void 0:o.localStorage})()}catch(o){w(o)}if(!t)return b;const g=C(n),u=ge(g),p=(l=i.serializer)!=null?l:be[u],{pause:S,resume:k}=ce(b,()=>Q(b.value),{flush:r,deep:s,eventFilter:m});a&&d&&fe(()=>{t instanceof Storage?_(a,"storage",x):_(a,J,X),E&&x()}),E||x();function V(o,y){if(a){const h={key:e,oldValue:o,newValue:y,storageArea:t};a.dispatchEvent(t instanceof Storage?new StorageEvent("storage",h):new CustomEvent(J,{detail:h}))}}function Q(o){try{const y=t.getItem(e);if(o==null)V(y,null),t.removeItem(e);else{const h=p.write(o);y!==h&&(t.setItem(e,h),V(y,h))}}catch(y){w(y)}}function U(o){const y=o?o.newValue:t.getItem(e);if(y==null)return c&&g!=null&&t.setItem(e,p.write(g)),g;if(!o&&v){const h=p.read(y);return typeof v=="function"?v(h,g):u==="object"&&!Array.isArray(h)?{...g,...h}:h}else return typeof y!="string"?y:p.read(y)}function x(o){if(!(o&&o.storageArea!==t)){if(o&&o.key==null){b.value=g;return}if(!(o&&o.key!==e)){S();try{(o==null?void 0:o.newValue)!==p.write(b.value)&&(b.value=U(o))}catch(y){w(y)}finally{o?B(k):k()}}}}function X(o){x(o.detail)}return b}function he(e={}){const{document:n=L}=e;if(!n)return F("visible");const t=F(n.visibilityState);return _(n,"visibilitychange",()=>{t.value=n.visibilityState}),t}const H=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function _e(e,n={}){const{document:t=L,autoExit:i=!1}=n,l=A(()=>{var u;return(u=W(e))!=null?u:t==null?void 0:t.querySelector("html")}),r=F(!1),s=A(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(u=>t&&u in t||l.value&&u in l.value)),d=A(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(u=>t&&u in t||l.value&&u in l.value)),c=A(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(u=>t&&u in t||l.value&&u in l.value)),v=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(u=>t&&u in t),f=R(()=>l.value&&t&&s.value!==void 0&&d.value!==void 0&&c.value!==void 0),a=()=>v?(t==null?void 0:t[v])===l.value:!1,m=()=>{if(c.value){if(t&&t[c.value]!=null)return t[c.value];{const u=l.value;if((u==null?void 0:u[c.value])!=null)return!!u[c.value]}}return!1};async function w(){if(!(!f.value||!r.value)){if(d.value)if((t==null?void 0:t[d.value])!=null)await t[d.value]();else{const u=l.value;(u==null?void 0:u[d.value])!=null&&await u[d.value]()}r.value=!1}}async function E(){if(!f.value||r.value)return;m()&&await w();const u=l.value;s.value&&(u==null?void 0:u[s.value])!=null&&(await u[s.value](),r.value=!0)}async function b(){await(r.value?w():E())}const g=()=>{const u=m();(!u||u&&a())&&(r.value=u)};return _(t,H,g,!1),_(()=>W(l),H,g,!1),i&&D(w),{isSupported:f,isFullscreen:r,enter:E,exit:w,toggle:b}}function Ae(e,n,t={}){const{window:i=M}=t;return Se(e,n,i==null?void 0:i.localStorage,t)}function ke(e={}){const{navigator:n=j,document:t=L}=e,i=F(!1),l=q(null),r=he({document:t}),s=R(()=>n&&"wakeLock"in n),d=A(()=>!!l.value&&r.value==="visible");s.value&&(_(l,"release",()=>{var a,m;i.value=(m=(a=l.value)==null?void 0:a.type)!=null?m:!1}),ve(()=>r.value==="visible"&&(t==null?void 0:t.visibilityState)==="visible"&&i.value,a=>{i.value=!1,c(a)}));async function c(a){var m;await((m=l.value)==null?void 0:m.release()),l.value=s.value?await n.wakeLock.request(a):null}async function v(a){r.value==="visible"?await c(a):i.value=a}async function f(){i.value=!1;const a=l.value;l.value=null,await(a==null?void 0:a.release())}return{sentinel:l,isSupported:s,isActive:d,request:v,forceRequest:c,release:f}}export{Ee as a,_e as b,ke as c,Ae as u};
