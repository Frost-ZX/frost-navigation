import{aA as G,aG as $,m as F,G as K,I as O,bY as Y,bZ as _,b_ as ee,b$ as ne,aH as P,g as h,p as te,c0 as le}from"./index-BKvL4bCX.js";function R(e){return ee()?(ne(e),!0):!1}const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ue=Object.prototype.toString,ae=e=>ue.call(e)==="[object Object]";function ie(e,l){function n(...s){return new Promise((u,a)=>{Promise.resolve(e(()=>l.apply(this,s),{fn:l,thisArg:this,args:s})).then(u).catch(a)})}return n}const Z=e=>e();function re(e=Z){const l=F(!0);function n(){l.value=!1}function s(){l.value=!0}const u=(...a)=>{l.value&&e(...a)};return{isActive:K(l),pause:n,resume:s,eventFilter:u}}function se(e){let l;function n(){return l||(l=e()),l}return n.reset=async()=>{const s=l;l=void 0,s&&await s},n}function oe(e){return Y()}function z(e){return Array.isArray(e)?e:[e]}function ce(e,l,n={}){const{eventFilter:s=Z,...u}=n;return O(e,ie(s,l),u)}function fe(e,l,n={}){const{eventFilter:s,...u}=n,{eventFilter:a,pause:c,resume:i,isActive:o}=re(s);return{stop:ce(e,l,{...u,eventFilter:a}),pause:c,resume:i,isActive:o}}function de(e,l=!0,n){oe()?G(e,n):l?e():$(e)}function ve(e,l,n={}){const{immediate:s=!0}=n,u=F(!1);let a=null;function c(){a&&(clearTimeout(a),a=null)}function i(){u.value=!1,c()}function o(...f){c(),u.value=!0,a=setTimeout(()=>{u.value=!1,a=null,e(...f)},_(l))}return s&&(u.value=!0,W&&o()),R(i),{isPending:K(u),start:o,stop:i}}function pe(e,l,n){return O(e,l,{...n,immediate:!0})}function we(e,l,n){return O(e,(u,a,c)=>{u&&l(u,a,c)},{...n,once:!1})}const M=W?window:void 0,D=W?window.document:void 0,j=W?window.navigator:void 0;function L(e){var l;const n=_(e);return(l=n==null?void 0:n.$el)!=null?l:n}function C(...e){const l=[],n=()=>{l.forEach(i=>i()),l.length=0},s=(i,o,f,p)=>(i.addEventListener(o,f,p),()=>i.removeEventListener(o,f,p)),u=h(()=>{const i=z(_(e[0])).filter(o=>o!=null);return i.every(o=>typeof o!="string")?i:void 0}),a=pe(()=>{var i,o;return[(o=(i=u.value)==null?void 0:i.map(f=>L(f)))!=null?o:[M].filter(f=>f!=null),z(_(u.value?e[1]:e[0])),z(te(u.value?e[2]:e[1])),_(u.value?e[3]:e[2])]},([i,o,f,p])=>{if(n(),!(i!=null&&i.length)||!(o!=null&&o.length)||!(f!=null&&f.length))return;const d=ae(p)?{...p}:p;l.push(...i.flatMap(y=>o.flatMap(g=>f.map(k=>s(y,g,k,d)))))},{flush:"post"}),c=()=>{a(),n()};return R(n),c}function me(){const e=F(!1),l=Y();return l&&G(()=>{e.value=!0},l),e}function T(e){const l=me();return h(()=>(l.value,!!e()))}function B(e,l={}){const{controls:n=!1,navigator:s=j}=l,u=T(()=>s&&"permissions"in s),a=P(),c=typeof e=="string"?{name:e}:e,i=P(),o=()=>{var p,d;i.value=(d=(p=a.value)==null?void 0:p.state)!=null?d:"prompt"};C(a,"change",o,{passive:!0});const f=se(async()=>{if(u.value){if(!a.value)try{a.value=await s.permissions.query(c)}catch(p){a.value=void 0}finally{o()}if(n)return le(a.value)}});return f(),n?{state:i,isSupported:u,query:f}:i}function _e(e={}){const{navigator:l=j,read:n=!1,source:s,copiedDuring:u=1500,legacy:a=!1}=e,c=T(()=>l&&"clipboard"in l),i=B("clipboard-read"),o=B("clipboard-write"),f=h(()=>c.value||a),p=F(""),d=F(!1),y=ve(()=>d.value=!1,u,{immediate:!1});function g(){let t=!(c.value&&w(i.value));if(!t)try{l.clipboard.readText().then(r=>{p.value=r})}catch(r){t=!0}t&&(p.value=m())}f.value&&n&&C(["copy","cut"],g,{passive:!0});async function k(t=_(s)){if(f.value&&t!=null){let r=!(c.value&&w(o.value));if(!r)try{await l.clipboard.writeText(t)}catch(A){r=!0}r&&S(t),p.value=t,d.value=!0,y.start()}}function S(t){const r=document.createElement("textarea");r.value=t!=null?t:"",r.style.position="absolute",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),r.remove()}function m(){var t,r,A;return(A=(r=(t=document==null?void 0:document.getSelection)==null?void 0:t.call(document))==null?void 0:r.toString())!=null?A:""}function w(t){return t==="granted"||t==="prompt"}return{isSupported:f,text:p,copied:d,copy:k}}const q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N="__vueuse_ssr_handlers__",ye=be();function be(){return N in q||(q[N]=q[N]||{}),q[N]}function ge(e,l){return ye[e]||l}function Se(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const he={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function Fe(e,l,n,s={}){var u;const{flush:a="pre",deep:c=!0,listenToStorageChanges:i=!0,writeDefaults:o=!0,mergeDefaults:f=!1,shallow:p,window:d=M,eventFilter:y,onError:g=v=>{console.error(v)},initOnMounted:k}=s,S=(p?P:F)(typeof l=="function"?l():l),m=h(()=>_(e));if(!n)try{n=ge("getDefaultStorage",()=>{var v;return(v=M)==null?void 0:v.localStorage})()}catch(v){g(v)}if(!n)return S;const w=_(l),t=Se(w),r=(u=s.serializer)!=null?u:he[t],{pause:A,resume:V}=fe(S,()=>Q(S.value),{flush:a,deep:c,eventFilter:y});O(m,()=>x(),{flush:a}),d&&i&&de(()=>{n instanceof Storage?C(d,"storage",x,{passive:!0}):C(d,H,X),k&&x()}),k||x();function J(v,b){if(d){const E={key:m.value,oldValue:v,newValue:b,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",E):new CustomEvent(H,{detail:E}))}}function Q(v){try{const b=n.getItem(m.value);if(v==null)J(b,null),n.removeItem(m.value);else{const E=r.write(v);b!==E&&(n.setItem(m.value,E),J(b,E))}}catch(b){g(b)}}function U(v){const b=v?v.newValue:n.getItem(m.value);if(b==null)return o&&w!=null&&n.setItem(m.value,r.write(w)),w;if(!v&&f){const E=r.read(b);return typeof f=="function"?f(E,w):t==="object"&&!Array.isArray(E)?{...w,...E}:E}else return typeof b!="string"?b:r.read(b)}function x(v){if(!(v&&v.storageArea!==n)){if(v&&v.key==null){S.value=w;return}if(!(v&&v.key!==m.value)){A();try{(v==null?void 0:v.newValue)!==r.write(S.value)&&(S.value=U(v))}catch(b){g(b)}finally{v?$(V):V()}}}}function X(v){x(v.detail)}return S}function ke(e={}){const{document:l=D}=e;if(!l)return F("visible");const n=F(l.visibilityState);return C(l,"visibilitychange",()=>{n.value=l.visibilityState},{passive:!0}),n}function Ae(e={}){const{window:l=M,dataType:n="Text"}=e,s=l,u=T(()=>s&&"showSaveFilePicker"in s&&"showOpenFilePicker"in s),a=F(),c=F(),i=F(),o=h(()=>{var t,r;return(r=(t=i.value)==null?void 0:t.name)!=null?r:""}),f=h(()=>{var t,r;return(r=(t=i.value)==null?void 0:t.type)!=null?r:""}),p=h(()=>{var t,r;return(r=(t=i.value)==null?void 0:t.size)!=null?r:0}),d=h(()=>{var t,r;return(r=(t=i.value)==null?void 0:t.lastModified)!=null?r:0});async function y(t={}){if(!u.value)return;const[r]=await s.showOpenFilePicker({..._(e),...t});a.value=r,await w()}async function g(t={}){u.value&&(a.value=await s.showSaveFilePicker({...e,...t}),c.value=void 0,await w())}async function k(t={}){if(u.value){if(!a.value)return S(t);if(c.value){const r=await a.value.createWritable();await r.write(c.value),await r.close()}await m()}}async function S(t={}){if(u.value){if(a.value=await s.showSaveFilePicker({...e,...t}),c.value){const r=await a.value.createWritable();await r.write(c.value),await r.close()}await m()}}async function m(){var t;i.value=await((t=a.value)==null?void 0:t.getFile())}async function w(){var t,r;await m();const A=_(n);A==="Text"?c.value=await((t=i.value)==null?void 0:t.text()):A==="ArrayBuffer"?c.value=await((r=i.value)==null?void 0:r.arrayBuffer()):A==="Blob"&&(c.value=i.value)}return O(()=>_(n),w),{isSupported:u,data:c,file:i,fileName:o,fileMIME:f,fileSize:p,fileLastModified:d,open:y,create:g,save:k,saveAs:S,updateData:w}}const I=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Ce(e,l={}){const{document:n=D,autoExit:s=!1}=l,u=h(()=>{var t;return(t=L(e))!=null?t:n==null?void 0:n.querySelector("html")}),a=F(!1),c=h(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(t=>n&&t in n||u.value&&t in u.value)),i=h(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(t=>n&&t in n||u.value&&t in u.value)),o=h(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(t=>n&&t in n||u.value&&t in u.value)),f=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(t=>n&&t in n),p=T(()=>u.value&&n&&c.value!==void 0&&i.value!==void 0&&o.value!==void 0),d=()=>f?(n==null?void 0:n[f])===u.value:!1,y=()=>{if(o.value){if(n&&n[o.value]!=null)return n[o.value];{const t=u.value;if((t==null?void 0:t[o.value])!=null)return!!t[o.value]}}return!1};async function g(){if(!(!p.value||!a.value)){if(i.value)if((n==null?void 0:n[i.value])!=null)await n[i.value]();else{const t=u.value;(t==null?void 0:t[i.value])!=null&&await t[i.value]()}a.value=!1}}async function k(){if(!p.value||a.value)return;y()&&await g();const t=u.value;c.value&&(t==null?void 0:t[c.value])!=null&&(await t[c.value](),a.value=!0)}async function S(){await(a.value?g():k())}const m=()=>{const t=y();(!t||t&&d())&&(a.value=t)},w={capture:!1,passive:!0};return C(n,I,m,w),C(()=>L(u),I,m,w),s&&R(g),{isSupported:p,isFullscreen:a,enter:k,exit:g,toggle:S}}function xe(e,l,n={}){const{window:s=M}=n;return Fe(e,l,s==null?void 0:s.localStorage,n)}function Me(e={}){const{navigator:l=j,document:n=D}=e,s=F(!1),u=P(null),a=ke({document:n}),c=T(()=>l&&"wakeLock"in l),i=h(()=>!!u.value&&a.value==="visible");c.value&&(C(u,"release",()=>{var d,y;s.value=(y=(d=u.value)==null?void 0:d.type)!=null?y:!1},{passive:!0}),we(()=>a.value==="visible"&&(n==null?void 0:n.visibilityState)==="visible"&&s.value,d=>{s.value=!1,o(d)}));async function o(d){var y;await((y=u.value)==null?void 0:y.release()),u.value=c.value?await l.wakeLock.request(d):null}async function f(d){a.value==="visible"?await o(d):s.value=d}async function p(){s.value=!1;const d=u.value;u.value=null,await(d==null?void 0:d.release())}return{sentinel:u,isSupported:c,isActive:i,request:f,forceRequest:o,release:p}}export{_e as a,Ae as b,Ce as c,Me as d,xe as u};
