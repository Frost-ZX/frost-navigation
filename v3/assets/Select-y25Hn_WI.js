import{m as B,g as E,U as Re,T as Je,f as fe,N as mn,b7 as An,aA as He,b8 as zt,aS as Rt,a0 as le,aE as vn,aB as Le,l as h,Q as Tt,aw as kn,aG as Cn,b9 as Pt,ba as an,I as Te,D as Ln,K as De,c as W,b as L,d as ce,i as We,u as pe,h as ee,k as Ve,ar as Nn,J as yn,a8 as It,O as Ie,V as Hn,a as te,e as ze,Z as Dn,j as xn,aD as Oe,r as Qe,ay as Ot,af as Ft,aF as Mt,L as U,bb as zn,ap as Bt,M as $t,a1 as ge,a9 as _t,bc as Et,F as At,b4 as Lt,aj as Nt,ac as Ht,ad as Dt,aa as Rn,bd as Wt,be as Vt}from"./index-BKvL4bCX.js";import{h as Ne,p as Kt,N as jt,u as Ut}from"./Popover-BG5MQIM7.js";import{u as Tn}from"./use-merged-state-CKbFJlkG.js";import{u as Wn,a as Gt}from"./Input-CylcvuRs.js";import{c as Vn,b as Ye,d as qt,i as wn,e as Zt,u as pn,B as Xt,V as Yt,a as Jt}from"./Follower-L5kM5qp8.js";function Pn(e){return e&-e}class Kn{constructor(n,t){this.l=n,this.min=t;const o=new Array(n+1);for(let r=0;r<n+1;++r)o[r]=0;this.ft=o}add(n,t){if(t===0)return;const{l:o,ft:r}=this;for(n+=1;n<=o;)r[n]+=t,n+=Pn(n)}get(n){return this.sum(n+1)-this.sum(n)}sum(n){if(n===void 0&&(n=this.l),n<=0)return 0;const{ft:t,min:o,l:r}=this;if(n>r)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let s=n*o;for(;n>0;)s+=t[n],n-=Pn(n);return s}getBound(n){let t=0,o=this.l;for(;o>t;){const r=Math.floor((t+o)/2),s=this.sum(r);if(s>n){o=r;continue}else if(s<n){if(t===r)return this.sum(t+1)<=n?t+1:r;t=r}else return r}return t}}let Xe;function Qt(){return typeof document>"u"?!1:(Xe===void 0&&("matchMedia"in window?Xe=window.matchMedia("(pointer:coarse)").matches:Xe=!1),Xe)}let sn;function In(){return typeof document>"u"?1:(sn===void 0&&(sn="chrome"in window?window.devicePixelRatio:1),sn)}const jn="VVirtualListXScroll";function eo({columnsRef:e,renderColRef:n,renderItemWithColsRef:t}){const o=B(0),r=B(0),s=E(()=>{const u=e.value;if(u.length===0)return null;const d=new Kn(u.length,0);return u.forEach((f,w)=>{d.add(w,f.width)}),d}),l=Re(()=>{const u=s.value;return u!==null?Math.max(u.getBound(r.value)-1,0):0}),i=u=>{const d=s.value;return d!==null?d.sum(u):0},c=Re(()=>{const u=s.value;return u!==null?Math.min(u.getBound(r.value+o.value)+1,e.value.length-1):0});return Je(jn,{startIndexRef:l,endIndexRef:c,columnsRef:e,renderColRef:n,renderItemWithColsRef:t,getLeft:i}),{listWidthRef:o,scrollLeftRef:r}}const On=fe({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:n,columnsRef:t,getLeft:o,renderColRef:r,renderItemWithColsRef:s}=mn(jn);return{startIndex:e,endIndex:n,columns:t,renderCol:r,renderItemWithCols:s,getLeft:o}},render(){const{startIndex:e,endIndex:n,columns:t,renderCol:o,renderItemWithCols:r,getLeft:s,item:l}=this;if(r!=null)return r({itemIndex:this.index,startColIndex:e,endColIndex:n,allColumns:t,item:l,getLeft:s});if(o!=null){const i=[];for(let c=e;c<=n;++c){const u=t[c];i.push(o({column:u,left:s(c),item:l}))}return i}return null}}),no=Ye(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Ye("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Ye("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),to=fe({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const n=An();no.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Vn,ssr:n}),He(()=>{const{defaultScrollIndex:p,defaultScrollKey:z}=e;p!=null?O({index:p}):z!=null&&O({key:z})});let t=!1,o=!1;zt(()=>{if(t=!1,!o){o=!0;return}O({top:m.value,left:l.value})}),Rt(()=>{t=!0,o||(o=!0)});const r=Re(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let p=0;return e.columns.forEach(z=>{p+=z.width}),p}),s=E(()=>{const p=new Map,{keyField:z}=e;return e.items.forEach((N,Z)=>{p.set(N[z],Z)}),p}),{scrollLeftRef:l,listWidthRef:i}=eo({columnsRef:le(e,"columns"),renderColRef:le(e,"renderCol"),renderItemWithColsRef:le(e,"renderItemWithCols")}),c=B(null),u=B(void 0),d=new Map,f=E(()=>{const{items:p,itemSize:z,keyField:N}=e,Z=new Kn(p.length,z);return p.forEach((J,X)=>{const Y=J[N],K=d.get(Y);K!==void 0&&Z.add(X,K)}),Z}),w=B(0),m=B(0),g=Re(()=>Math.max(f.value.getBound(m.value-vn(e.paddingTop))-1,0)),I=E(()=>{const{value:p}=u;if(p===void 0)return[];const{items:z,itemSize:N}=e,Z=g.value,J=Math.min(Z+Math.ceil(p/N+1),z.length-1),X=[];for(let Y=Z;Y<=J;++Y)X.push(z[Y]);return X}),O=(p,z)=>{if(typeof p=="number"){v(p,z,"auto");return}const{left:N,top:Z,index:J,key:X,position:Y,behavior:K,debounce:ne=!0}=p;if(N!==void 0||Z!==void 0)v(N,Z,K);else if(J!==void 0)T(J,K,ne);else if(X!==void 0){const C=s.value.get(X);C!==void 0&&T(C,K,ne)}else Y==="bottom"?v(0,Number.MAX_SAFE_INTEGER,K):Y==="top"&&v(0,0,K)};let R,P=null;function T(p,z,N){const{value:Z}=f,J=Z.sum(p)+vn(e.paddingTop);if(!N)c.value.scrollTo({left:0,top:J,behavior:z});else{R=p,P!==null&&window.clearTimeout(P),P=window.setTimeout(()=>{R=void 0,P=null},16);const{scrollTop:X,offsetHeight:Y}=c.value;if(J>X){const K=Z.get(p);J+K<=X+Y||c.value.scrollTo({left:0,top:J+K-Y,behavior:z})}else c.value.scrollTo({left:0,top:J,behavior:z})}}function v(p,z,N){c.value.scrollTo({left:p,top:z,behavior:N})}function y(p,z){var N,Z,J;if(t||e.ignoreItemResize||ie(z.target))return;const{value:X}=f,Y=s.value.get(p),K=X.get(Y),ne=(J=(Z=(N=z.borderBoxSize)===null||N===void 0?void 0:N[0])===null||Z===void 0?void 0:Z.blockSize)!==null&&J!==void 0?J:z.contentRect.height;if(ne===K)return;ne-e.itemSize===0?d.delete(p):d.set(p,ne-e.itemSize);const S=ne-K;if(S===0)return;X.add(Y,S);const j=c.value;if(j!=null){if(R===void 0){const ae=X.sum(Y);j.scrollTop>ae&&j.scrollBy(0,S)}else if(Y<R)j.scrollBy(0,S);else if(Y===R){const ae=X.sum(Y);ne+ae>j.scrollTop+j.offsetHeight&&j.scrollBy(0,S)}Q()}w.value++}const $=!Qt();let M=!1;function G(p){var z;(z=e.onScroll)===null||z===void 0||z.call(e,p),(!$||!M)&&Q()}function q(p){var z;if((z=e.onWheel)===null||z===void 0||z.call(e,p),$){const N=c.value;if(N!=null){if(p.deltaX===0&&(N.scrollTop===0&&p.deltaY<=0||N.scrollTop+N.offsetHeight>=N.scrollHeight&&p.deltaY>=0))return;p.preventDefault(),N.scrollTop+=p.deltaY/In(),N.scrollLeft+=p.deltaX/In(),Q(),M=!0,qt(()=>{M=!1})}}}function _(p){if(t||ie(p.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(p.contentRect.height===u.value)return}else if(p.contentRect.height===u.value&&p.contentRect.width===i.value)return;u.value=p.contentRect.height,i.value=p.contentRect.width;const{onResize:z}=e;z!==void 0&&z(p)}function Q(){const{value:p}=c;p!=null&&(m.value=p.scrollTop,l.value=p.scrollLeft)}function ie(p){let z=p;for(;z!==null;){if(z.style.display==="none")return!0;z=z.parentElement}return!1}return{listHeight:u,listStyle:{overflow:"auto"},keyToIndex:s,itemsStyle:E(()=>{const{itemResizable:p}=e,z=Le(f.value.sum());return w.value,[e.itemsStyle,{boxSizing:"content-box",width:Le(r.value),height:p?"":z,minHeight:p?z:"",paddingTop:Le(e.paddingTop),paddingBottom:Le(e.paddingBottom)}]}),visibleItemsStyle:E(()=>(w.value,{transform:"translateY(".concat(Le(f.value.sum(g.value)),")")})),viewportItems:I,listElRef:c,itemsElRef:B(null),scrollTo:O,handleListResize:_,handleListScroll:G,handleListWheel:q,handleItemResize:y}},render(){const{itemResizable:e,keyField:n,keyToIndex:t,visibleItemsTag:o}=this;return h(kn,{onResize:this.handleListResize},{default:()=>{var r,s;return h("div",Tt(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?h("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:l,renderItemWithCols:i}=this;return this.viewportItems.map(c=>{const u=c[n],d=t.get(u),f=l!=null?h(On,{index:d,item:c}):void 0,w=i!=null?h(On,{index:d,item:c}):void 0,m=this.$slots.default({item:c,renderedCols:f,renderedItemWithCols:w,index:d})[0];return e?h(kn,{key:u,onResize:g=>this.handleItemResize(u,g)},{default:()=>m}):(m.key=u,m)})}})]):(s=(r=this.$slots).empty)===null||s===void 0?void 0:s.call(r)])}})}}),me="v-hidden",oo=Ye("[v-hidden]",{display:"none!important"}),Fn=fe({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:n}){const t=B(null),o=B(null);function r(l){const{value:i}=t,{getCounter:c,getTail:u}=e;let d;if(c!==void 0?d=c():d=o.value,!i||!d)return;d.hasAttribute(me)&&d.removeAttribute(me);const{children:f}=i;if(l.showAllItemsBeforeCalculate)for(const T of f)T.hasAttribute(me)&&T.removeAttribute(me);const w=i.offsetWidth,m=[],g=n.tail?u==null?void 0:u():null;let I=g?g.offsetWidth:0,O=!1;const R=i.children.length-(n.tail?1:0);for(let T=0;T<R-1;++T){if(T<0)continue;const v=f[T];if(O){v.hasAttribute(me)||v.setAttribute(me,"");continue}else v.hasAttribute(me)&&v.removeAttribute(me);const y=v.offsetWidth;if(I+=y,m[T]=y,I>w){const{updateCounter:$}=e;for(let M=T;M>=0;--M){const G=R-1-M;$!==void 0?$(G):d.textContent="".concat(G);const q=d.offsetWidth;if(I-=m[M],I+q<=w||M===0){O=!0,T=M-1,g&&(T===-1?(g.style.maxWidth="".concat(w-q,"px"),g.style.boxSizing="border-box"):g.style.maxWidth="");const{onUpdateCount:_}=e;_&&_(G);break}}}}const{onUpdateOverflow:P}=e;O?P!==void 0&&P(!0):(P!==void 0&&P(!1),d.setAttribute(me,""))}const s=An();return oo.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Vn,ssr:s}),He(()=>r({showAllItemsBeforeCalculate:!1})),{selfRef:t,counterRef:o,sync:r}},render(){const{$slots:e}=this;return Cn(()=>this.sync({showAllItemsBeforeCalculate:!1})),h("div",{class:"v-overflow",ref:"selfRef"},[Pt(e,"default"),e.counter?e.counter():h("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Un(e,n){n&&(He(()=>{const{value:t}=e;t&&an.registerHandler(t,n)}),Te(e,(t,o)=>{o&&an.unregisterHandler(o)},{deep:!1}),Ln(()=>{const{value:t}=e;t&&an.unregisterHandler(t)}))}function Mn(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function dn(e){const n=e.filter(t=>t!==void 0);if(n.length!==0)return n.length===1?n[0]:t=>{e.forEach(o=>{o&&o(t)})}}const ro=fe({name:"Checkmark",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),lo=fe({name:"Empty",render(){return h("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),io=fe({props:{onFocus:Function,onBlur:Function},setup(e){return()=>h("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Bn(e){return Array.isArray(e)?e:[e]}const bn={STOP:"STOP"};function Gn(e,n){const t=n(e);e.children!==void 0&&t!==bn.STOP&&e.children.forEach(o=>Gn(o,n))}function ao(e,n={}){const{preserveGroup:t=!1}=n,o=[],r=t?l=>{l.isLeaf||(o.push(l.key),s(l.children))}:l=>{l.isLeaf||(l.isGroup||o.push(l.key),s(l.children))};function s(l){l.forEach(r)}return s(e),o}function so(e,n){const{isLeaf:t}=e;return t!==void 0?t:!n(e)}function co(e){return e.children}function uo(e){return e.key}function fo(){return!1}function ho(e,n){const{isLeaf:t}=e;return!(t===!1&&!Array.isArray(n(e)))}function go(e){return e.disabled===!0}function vo(e,n){return e.isLeaf===!1&&!Array.isArray(n(e))}function cn(e){var n;return e==null?[]:Array.isArray(e)?e:(n=e.checkedKeys)!==null&&n!==void 0?n:[]}function un(e){var n;return e==null||Array.isArray(e)?[]:(n=e.indeterminateKeys)!==null&&n!==void 0?n:[]}function po(e,n){const t=new Set(e);return n.forEach(o=>{t.has(o)||t.add(o)}),Array.from(t)}function bo(e,n){const t=new Set(e);return n.forEach(o=>{t.has(o)&&t.delete(o)}),Array.from(t)}function mo(e){return(e==null?void 0:e.type)==="group"}function Co(e){const n=new Map;return e.forEach((t,o)=>{n.set(t.key,o)}),t=>{var o;return(o=n.get(t))!==null&&o!==void 0?o:null}}class yo extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function xo(e,n,t,o){return en(n.concat(e),t,o,!1)}function wo(e,n){const t=new Set;return e.forEach(o=>{const r=n.treeNodeMap.get(o);if(r!==void 0){let s=r.parent;for(;s!==null&&!(s.disabled||t.has(s.key));)t.add(s.key),s=s.parent}}),t}function So(e,n,t,o){const r=en(n,t,o,!1),s=en(e,t,o,!0),l=wo(e,t),i=[];return r.forEach(c=>{(s.has(c)||l.has(c))&&i.push(c)}),i.forEach(c=>r.delete(c)),r}function fn(e,n){const{checkedKeys:t,keysToCheck:o,keysToUncheck:r,indeterminateKeys:s,cascade:l,leafOnly:i,checkStrategy:c,allowNotLoaded:u}=e;if(!l)return o!==void 0?{checkedKeys:po(t,o),indeterminateKeys:Array.from(s)}:r!==void 0?{checkedKeys:bo(t,r),indeterminateKeys:Array.from(s)}:{checkedKeys:Array.from(t),indeterminateKeys:Array.from(s)};const{levelTreeNodeMap:d}=n;let f;r!==void 0?f=So(r,t,n,u):o!==void 0?f=xo(o,t,n,u):f=en(t,n,u,!1);const w=c==="parent",m=c==="child"||i,g=f,I=new Set,O=Math.max.apply(null,Array.from(d.keys()));for(let R=O;R>=0;R-=1){const P=R===0,T=d.get(R);for(const v of T){if(v.isLeaf)continue;const{key:y,shallowLoaded:$}=v;if(m&&$&&v.children.forEach(_=>{!_.disabled&&!_.isLeaf&&_.shallowLoaded&&g.has(_.key)&&g.delete(_.key)}),v.disabled||!$)continue;let M=!0,G=!1,q=!0;for(const _ of v.children){const Q=_.key;if(!_.disabled){if(q&&(q=!1),g.has(Q))G=!0;else if(I.has(Q)){G=!0,M=!1;break}else if(M=!1,G)break}}M&&!q?(w&&v.children.forEach(_=>{!_.disabled&&g.has(_.key)&&g.delete(_.key)}),g.add(y)):G&&I.add(y),P&&m&&g.has(y)&&g.delete(y)}}return{checkedKeys:Array.from(g),indeterminateKeys:Array.from(I)}}function en(e,n,t,o){const{treeNodeMap:r,getChildren:s}=n,l=new Set,i=new Set(e);return e.forEach(c=>{const u=r.get(c);u!==void 0&&Gn(u,d=>{if(d.disabled)return bn.STOP;const{key:f}=d;if(!l.has(f)&&(l.add(f),i.add(f),vo(d.rawNode,s))){if(o)return bn.STOP;if(!t)throw new yo}})}),i}function ko(e,{includeGroup:n=!1,includeSelf:t=!0},o){var r;const s=o.treeNodeMap;let l=e==null?null:(r=s.get(e))!==null&&r!==void 0?r:null;const i={keyPath:[],treeNodePath:[],treeNode:l};if(l!=null&&l.ignored)return i.treeNode=null,i;for(;l;)!l.ignored&&(n||!l.isGroup)&&i.treeNodePath.push(l),l=l.parent;return i.treeNodePath.reverse(),t||i.treeNodePath.pop(),i.keyPath=i.treeNodePath.map(c=>c.key),i}function zo(e){if(e.length===0)return null;const n=e[0];return n.isGroup||n.ignored||n.disabled?n.getNext():n}function Ro(e,n){const t=e.siblings,o=t.length,{index:r}=e;return n?t[(r+1)%o]:r===t.length-1?null:t[r+1]}function $n(e,n,{loop:t=!1,includeDisabled:o=!1}={}){const r=n==="prev"?To:Ro,s={reverse:n==="prev"};let l=!1,i=null;function c(u){if(u!==null){if(u===e){if(!l)l=!0;else if(!e.disabled&&!e.isGroup){i=e;return}}else if((!u.disabled||o)&&!u.ignored&&!u.isGroup){i=u;return}if(u.isGroup){const d=Sn(u,s);d!==null?i=d:c(r(u,t))}else{const d=r(u,!1);if(d!==null)c(d);else{const f=Po(u);f!=null&&f.isGroup?c(r(f,t)):t&&c(r(u,!0))}}}}return c(e),i}function To(e,n){const t=e.siblings,o=t.length,{index:r}=e;return n?t[(r-1+o)%o]:r===0?null:t[r-1]}function Po(e){return e.parent}function Sn(e,n={}){const{reverse:t=!1}=n,{children:o}=e;if(o){const{length:r}=o,s=t?r-1:0,l=t?-1:r,i=t?-1:1;for(let c=s;c!==l;c+=i){const u=o[c];if(!u.disabled&&!u.ignored)if(u.isGroup){const d=Sn(u,n);if(d!==null)return d}else return u}}return null}const Io={getChild(){return this.ignored?null:Sn(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return $n(this,"next",e)},getPrev(e={}){return $n(this,"prev",e)}};function Oo(e,n){const t=n?new Set(n):void 0,o=[];function r(s){s.forEach(l=>{o.push(l),!(l.isLeaf||!l.children||l.ignored)&&(l.isGroup||t===void 0||t.has(l.key))&&r(l.children)})}return r(e),o}function Fo(e,n){const t=e.key;for(;n;){if(n.key===t)return!0;n=n.parent}return!1}function qn(e,n,t,o,r,s=null,l=0){const i=[];return e.forEach((c,u)=>{var d;const f=Object.create(o);if(f.rawNode=c,f.siblings=i,f.level=l,f.index=u,f.isFirstChild=u===0,f.isLastChild=u+1===e.length,f.parent=s,!f.ignored){const w=r(c);Array.isArray(w)&&(f.children=qn(w,n,t,o,r,f,l+1))}i.push(f),n.set(f.key,f),t.has(l)||t.set(l,[]),(d=t.get(l))===null||d===void 0||d.push(f)}),i}function Mo(e,n={}){var t;const o=new Map,r=new Map,{getDisabled:s=go,getIgnored:l=fo,getIsGroup:i=mo,getKey:c=uo}=n,u=(t=n.getChildren)!==null&&t!==void 0?t:co,d=n.ignoreEmptyChildren?v=>{const y=u(v);return Array.isArray(y)?y.length?y:null:y}:u,f=Object.assign({get key(){return c(this.rawNode)},get disabled(){return s(this.rawNode)},get isGroup(){return i(this.rawNode)},get isLeaf(){return so(this.rawNode,d)},get shallowLoaded(){return ho(this.rawNode,d)},get ignored(){return l(this.rawNode)},contains(v){return Fo(this,v)}},Io),w=qn(e,o,r,f,d);function m(v){if(v==null)return null;const y=o.get(v);return y&&!y.isGroup&&!y.ignored?y:null}function g(v){if(v==null)return null;const y=o.get(v);return y&&!y.ignored?y:null}function I(v,y){const $=g(v);return $?$.getPrev(y):null}function O(v,y){const $=g(v);return $?$.getNext(y):null}function R(v){const y=g(v);return y?y.getParent():null}function P(v){const y=g(v);return y?y.getChild():null}const T={treeNodes:w,treeNodeMap:o,levelTreeNodeMap:r,maxLevel:Math.max(...r.keys()),getChildren:d,getFlattenedNodes(v){return Oo(w,v)},getNode:m,getPrev:I,getNext:O,getParent:R,getChild:P,getFirstAvailableNode(){return zo(w)},getPath(v,y={}){return ko(v,y,T)},getCheckedKeys(v,y={}){const{cascade:$=!0,leafOnly:M=!1,checkStrategy:G="all",allowNotLoaded:q=!1}=y;return fn({checkedKeys:cn(v),indeterminateKeys:un(v),cascade:$,leafOnly:M,checkStrategy:G,allowNotLoaded:q},T)},check(v,y,$={}){const{cascade:M=!0,leafOnly:G=!1,checkStrategy:q="all",allowNotLoaded:_=!1}=$;return fn({checkedKeys:cn(y),indeterminateKeys:un(y),keysToCheck:v==null?[]:Bn(v),cascade:M,leafOnly:G,checkStrategy:q,allowNotLoaded:_},T)},uncheck(v,y,$={}){const{cascade:M=!0,leafOnly:G=!1,checkStrategy:q="all",allowNotLoaded:_=!1}=$;return fn({checkedKeys:cn(y),indeterminateKeys:un(y),keysToUncheck:v==null?[]:Bn(v),cascade:M,leafOnly:G,checkStrategy:q,allowNotLoaded:_},T)},getNonLeafKeys(v={}){return ao(w,v)}};return T}const Bo={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function $o(e){const{textColorDisabled:n,iconColor:t,textColor2:o,fontSizeTiny:r,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:i,fontSizeHuge:c}=e;return Object.assign(Object.assign({},Bo),{fontSizeTiny:r,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:i,fontSizeHuge:c,textColor:n,iconColor:t,extraTextColor:o})}const Zn={name:"Empty",common:De,self:$o},_o=W("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[L("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[ce("+",[L("description","\n margin-top: 8px;\n ")])]),L("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),L("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),Eo=Object.assign(Object.assign({},pe.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Ao=fe({name:"Empty",props:Eo,slots:Object,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:t,mergedComponentPropsRef:o}=We(e),r=pe("Empty","-empty",_o,Zn,e,n),{localeRef:s}=Wn("Empty"),l=E(()=>{var d,f,w;return(d=e.description)!==null&&d!==void 0?d:(w=(f=o==null?void 0:o.value)===null||f===void 0?void 0:f.Empty)===null||w===void 0?void 0:w.description}),i=E(()=>{var d,f;return((f=(d=o==null?void 0:o.value)===null||d===void 0?void 0:d.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>h(lo,null))}),c=E(()=>{const{size:d}=e,{common:{cubicBezierEaseInOut:f},self:{[ee("iconSize",d)]:w,[ee("fontSize",d)]:m,textColor:g,iconColor:I,extraTextColor:O}}=r.value;return{"--n-icon-size":w,"--n-font-size":m,"--n-bezier":f,"--n-text-color":g,"--n-icon-color":I,"--n-extra-text-color":O}}),u=t?Ve("empty",E(()=>{let d="";const{size:f}=e;return d+=f[0],d}),c,e):void 0;return{mergedClsPrefix:n,mergedRenderIcon:i,localizedDescription:E(()=>l.value||s.value.description),cssVars:t?void 0:c,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){const{$slots:e,mergedClsPrefix:n,onRender:t}=this;return t==null||t(),h("div",{class:["".concat(n,"-empty"),this.themeClass],style:this.cssVars},this.showIcon?h("div",{class:"".concat(n,"-empty__icon")},e.icon?e.icon():h(Nn,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?h("div",{class:"".concat(n,"-empty__description")},e.default?e.default():this.localizedDescription):null,e.extra?h("div",{class:"".concat(n,"-empty__extra")},e.extra()):null)}}),Lo={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function No(e){const{borderRadius:n,popoverColor:t,textColor3:o,dividerColor:r,textColor2:s,primaryColorPressed:l,textColorDisabled:i,primaryColor:c,opacityDisabled:u,hoverColor:d,fontSizeTiny:f,fontSizeSmall:w,fontSizeMedium:m,fontSizeLarge:g,fontSizeHuge:I,heightTiny:O,heightSmall:R,heightMedium:P,heightLarge:T,heightHuge:v}=e;return Object.assign(Object.assign({},Lo),{optionFontSizeTiny:f,optionFontSizeSmall:w,optionFontSizeMedium:m,optionFontSizeLarge:g,optionFontSizeHuge:I,optionHeightTiny:O,optionHeightSmall:R,optionHeightMedium:P,optionHeightLarge:T,optionHeightHuge:v,borderRadius:n,color:t,groupHeaderTextColor:o,actionDividerColor:r,optionTextColor:s,optionTextColorPressed:l,optionTextColorDisabled:i,optionTextColorActive:c,optionOpacityDisabled:u,optionCheckColor:c,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:s,loadingColor:c})}const Xn=yn({name:"InternalSelectMenu",common:De,peers:{Scrollbar:It,Empty:Zn},self:No}),_n=fe({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:n,labelFieldRef:t,nodePropsRef:o}=mn(wn);return{labelField:t,nodeProps:o,renderLabel:e,renderOption:n}},render(){const{clsPrefix:e,renderLabel:n,renderOption:t,nodeProps:o,tmNode:{rawNode:r}}=this,s=o==null?void 0:o(r),l=n?n(r,!1):Ie(r[this.labelField],r,!1),i=h("div",Object.assign({},s,{class:["".concat(e,"-base-select-group-header"),s==null?void 0:s.class]}),l);return r.render?r.render({node:i,option:r}):t?t({node:i,option:r,selected:!1}):i}});function Ho(e,n){return h(Hn,{name:"fade-in-scale-up-transition"},{default:()=>e?h(Nn,{clsPrefix:n,class:"".concat(n,"-base-select-option__check")},{default:()=>h(ro)}):null})}const En=fe({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:n,pendingTmNodeRef:t,multipleRef:o,valueSetRef:r,renderLabelRef:s,renderOptionRef:l,labelFieldRef:i,valueFieldRef:c,showCheckmarkRef:u,nodePropsRef:d,handleOptionClick:f,handleOptionMouseEnter:w}=mn(wn),m=Re(()=>{const{value:R}=t;return R?e.tmNode.key===R.key:!1});function g(R){const{tmNode:P}=e;P.disabled||f(R,P)}function I(R){const{tmNode:P}=e;P.disabled||w(R,P)}function O(R){const{tmNode:P}=e,{value:T}=m;P.disabled||T||w(R,P)}return{multiple:o,isGrouped:Re(()=>{const{tmNode:R}=e,{parent:P}=R;return P&&P.rawNode.type==="group"}),showCheckmark:u,nodeProps:d,isPending:m,isSelected:Re(()=>{const{value:R}=n,{value:P}=o;if(R===null)return!1;const T=e.tmNode.rawNode[c.value];if(P){const{value:v}=r;return v.has(T)}else return R===T}),labelField:i,renderLabel:s,renderOption:l,handleMouseMove:O,handleMouseEnter:I,handleClick:g}},render(){const{clsPrefix:e,tmNode:{rawNode:n},isSelected:t,isPending:o,isGrouped:r,showCheckmark:s,nodeProps:l,renderOption:i,renderLabel:c,handleClick:u,handleMouseEnter:d,handleMouseMove:f}=this,w=Ho(t,e),m=c?[c(n,t),s&&w]:[Ie(n[this.labelField],n,t),s&&w],g=l==null?void 0:l(n),I=h("div",Object.assign({},g,{class:["".concat(e,"-base-select-option"),n.class,g==null?void 0:g.class,{["".concat(e,"-base-select-option--disabled")]:n.disabled,["".concat(e,"-base-select-option--selected")]:t,["".concat(e,"-base-select-option--grouped")]:r,["".concat(e,"-base-select-option--pending")]:o,["".concat(e,"-base-select-option--show-checkmark")]:s}],style:[(g==null?void 0:g.style)||"",n.style||""],onClick:dn([u,g==null?void 0:g.onClick]),onMouseenter:dn([d,g==null?void 0:g.onMouseenter]),onMousemove:dn([f,g==null?void 0:g.onMousemove])}),h("div",{class:"".concat(e,"-base-select-option__content")},m));return n.render?n.render({node:I,option:n,selected:t}):i?i({node:I,option:n,selected:t}):I}}),Do=W("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[W("scrollbar","\n max-height: var(--n-height);\n "),W("virtual-list","\n max-height: var(--n-height);\n "),W("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[L("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),W("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),W("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),L("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),L("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),L("header","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),L("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),W("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),W("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[te("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),ce("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),ce("&:active","\n color: var(--n-option-text-color-pressed);\n "),te("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),te("pending",[ce("&::before","\n background-color: var(--n-option-color-pending);\n ")]),te("selected","\n color: var(--n-option-text-color-active);\n ",[ce("&::before","\n background-color: var(--n-option-color-active);\n "),te("pending",[ce("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),te("disabled","\n cursor: not-allowed;\n ",[ze("selected","\n color: var(--n-option-text-color-disabled);\n "),te("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),L("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[Dn({enterScale:"0.5"})])])]),Wo=fe({name:"InternalSelectMenu",props:Object.assign(Object.assign({},pe.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:t}=We(e),o=xn("InternalSelectMenu",t,n),r=pe("InternalSelectMenu","-internal-select-menu",Do,Xn,e,le(e,"clsPrefix")),s=B(null),l=B(null),i=B(null),c=E(()=>e.treeMate.getFlattenedNodes()),u=E(()=>Co(c.value)),d=B(null);function f(){const{treeMate:C}=e;let S=null;const{value:j}=e;j===null?S=C.getFirstAvailableNode():(e.multiple?S=C.getNode((j||[])[(j||[]).length-1]):S=C.getNode(j),(!S||S.disabled)&&(S=C.getFirstAvailableNode())),z(S||null)}function w(){const{value:C}=d;C&&!e.treeMate.getNode(C.key)&&(d.value=null)}let m;Te(()=>e.show,C=>{C?m=Te(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?f():w(),Cn(N)):w()},{immediate:!0}):m==null||m()},{immediate:!0}),Ln(()=>{m==null||m()});const g=E(()=>vn(r.value.self[ee("optionHeight",e.size)])),I=E(()=>Oe(r.value.self[ee("padding",e.size)])),O=E(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),R=E(()=>{const C=c.value;return C&&C.length===0});function P(C){const{onToggle:S}=e;S&&S(C)}function T(C){const{onScroll:S}=e;S&&S(C)}function v(C){var S;(S=i.value)===null||S===void 0||S.sync(),T(C)}function y(){var C;(C=i.value)===null||C===void 0||C.sync()}function $(){const{value:C}=d;return C||null}function M(C,S){S.disabled||z(S,!1)}function G(C,S){S.disabled||P(S)}function q(C){var S;Ne(C,"action")||(S=e.onKeyup)===null||S===void 0||S.call(e,C)}function _(C){var S;Ne(C,"action")||(S=e.onKeydown)===null||S===void 0||S.call(e,C)}function Q(C){var S;(S=e.onMousedown)===null||S===void 0||S.call(e,C),!e.focusable&&C.preventDefault()}function ie(){const{value:C}=d;C&&z(C.getNext({loop:!0}),!0)}function p(){const{value:C}=d;C&&z(C.getPrev({loop:!0}),!0)}function z(C,S=!1){d.value=C,S&&N()}function N(){var C,S;const j=d.value;if(!j)return;const ae=u.value(j.key);ae!==null&&(e.virtualScroll?(C=l.value)===null||C===void 0||C.scrollTo({index:ae}):(S=i.value)===null||S===void 0||S.scrollTo({index:ae,elSize:g.value}))}function Z(C){var S,j;!((S=s.value)===null||S===void 0)&&S.contains(C.target)&&((j=e.onFocus)===null||j===void 0||j.call(e,C))}function J(C){var S,j;!((S=s.value)===null||S===void 0)&&S.contains(C.relatedTarget)||(j=e.onBlur)===null||j===void 0||j.call(e,C)}Je(wn,{handleOptionMouseEnter:M,handleOptionClick:G,valueSetRef:O,pendingTmNodeRef:d,nodePropsRef:le(e,"nodeProps"),showCheckmarkRef:le(e,"showCheckmark"),multipleRef:le(e,"multiple"),valueRef:le(e,"value"),renderLabelRef:le(e,"renderLabel"),renderOptionRef:le(e,"renderOption"),labelFieldRef:le(e,"labelField"),valueFieldRef:le(e,"valueField")}),Je(Zt,s),He(()=>{const{value:C}=i;C&&C.sync()});const X=E(()=>{const{size:C}=e,{common:{cubicBezierEaseInOut:S},self:{height:j,borderRadius:ae,color:be,groupHeaderTextColor:Ce,actionDividerColor:he,optionTextColorPressed:se,optionTextColor:ye,optionTextColorDisabled:ue,optionTextColorActive:Fe,optionOpacityDisabled:Me,optionCheckColor:Be,actionTextColor:$e,optionColorPending:we,optionColorActive:Se,loadingColor:_e,loadingSize:Ee,optionColorActivePending:Ae,[ee("optionFontSize",C)]:Pe,[ee("optionHeight",C)]:ke,[ee("optionPadding",C)]:de}}=r.value;return{"--n-height":j,"--n-action-divider-color":he,"--n-action-text-color":$e,"--n-bezier":S,"--n-border-radius":ae,"--n-color":be,"--n-option-font-size":Pe,"--n-group-header-text-color":Ce,"--n-option-check-color":Be,"--n-option-color-pending":we,"--n-option-color-active":Se,"--n-option-color-active-pending":Ae,"--n-option-height":ke,"--n-option-opacity-disabled":Me,"--n-option-text-color":ye,"--n-option-text-color-active":Fe,"--n-option-text-color-disabled":ue,"--n-option-text-color-pressed":se,"--n-option-padding":de,"--n-option-padding-left":Oe(de,"left"),"--n-option-padding-right":Oe(de,"right"),"--n-loading-color":_e,"--n-loading-size":Ee}}),{inlineThemeDisabled:Y}=e,K=Y?Ve("internal-select-menu",E(()=>e.size[0]),X,e):void 0,ne={selfRef:s,next:ie,prev:p,getPendingTmNode:$};return Un(s,e.onResize),Object.assign({mergedTheme:r,mergedClsPrefix:n,rtlEnabled:o,virtualListRef:l,scrollbarRef:i,itemSize:g,padding:I,flattenedNodes:c,empty:R,virtualListContainer(){const{value:C}=l;return C==null?void 0:C.listElRef},virtualListContent(){const{value:C}=l;return C==null?void 0:C.itemsElRef},doScroll:T,handleFocusin:Z,handleFocusout:J,handleKeyUp:q,handleKeyDown:_,handleMouseDown:Q,handleVirtualListResize:y,handleVirtualListScroll:v,cssVars:Y?void 0:X,themeClass:K==null?void 0:K.themeClass,onRender:K==null?void 0:K.onRender},ne)},render(){const{$slots:e,virtualScroll:n,clsPrefix:t,mergedTheme:o,themeClass:r,onRender:s}=this;return s==null||s(),h("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:["".concat(t,"-base-select-menu"),this.rtlEnabled&&"".concat(t,"-base-select-menu--rtl"),r,this.multiple&&"".concat(t,"-base-select-menu--multiple")],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Qe(e.header,l=>l&&h("div",{class:"".concat(t,"-base-select-menu__header"),"data-header":!0,key:"header"},l)),this.loading?h("div",{class:"".concat(t,"-base-select-menu__loading")},h(Ot,{clsPrefix:t,strokeWidth:20})):this.empty?h("div",{class:"".concat(t,"-base-select-menu__empty"),"data-empty":!0},Mt(e.empty,()=>[h(Ao,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty,size:this.size})])):h(Ft,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,onScroll:n?void 0:this.doScroll},{default:()=>n?h(to,{ref:"virtualListRef",class:"".concat(t,"-virtual-list"),items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:l})=>l.isGroup?h(_n,{key:l.key,clsPrefix:t,tmNode:l}):l.ignored?null:h(En,{clsPrefix:t,key:l.key,tmNode:l})}):h("div",{class:"".concat(t,"-base-select-menu-option-wrapper"),style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(l=>l.isGroup?h(_n,{key:l.key,clsPrefix:t,tmNode:l}):h(En,{clsPrefix:t,key:l.key,tmNode:l})))}),Qe(e.action,l=>l&&[h("div",{class:"".concat(t,"-base-select-menu__action"),"data-action":!0,key:"action"},l),h(io,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Vo={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"};function Ko(e){const{textColor2:n,primaryColorHover:t,primaryColorPressed:o,primaryColor:r,infoColor:s,successColor:l,warningColor:i,errorColor:c,baseColor:u,borderColor:d,opacityDisabled:f,tagColor:w,closeIconColor:m,closeIconColorHover:g,closeIconColorPressed:I,borderRadiusSmall:O,fontSizeMini:R,fontSizeTiny:P,fontSizeSmall:T,fontSizeMedium:v,heightMini:y,heightTiny:$,heightSmall:M,heightMedium:G,closeColorHover:q,closeColorPressed:_,buttonColor2Hover:Q,buttonColor2Pressed:ie,fontWeightStrong:p}=e;return Object.assign(Object.assign({},Vo),{closeBorderRadius:O,heightTiny:y,heightSmall:$,heightMedium:M,heightLarge:G,borderRadius:O,opacityDisabled:f,fontSizeTiny:R,fontSizeSmall:P,fontSizeMedium:T,fontSizeLarge:v,fontWeightStrong:p,textColorCheckable:n,textColorHoverCheckable:n,textColorPressedCheckable:n,textColorChecked:u,colorCheckable:"#0000",colorHoverCheckable:Q,colorPressedCheckable:ie,colorChecked:r,colorCheckedHover:t,colorCheckedPressed:o,border:"1px solid ".concat(d),textColor:n,color:w,colorBordered:"rgb(250, 250, 252)",closeIconColor:m,closeIconColorHover:g,closeIconColorPressed:I,closeColorHover:q,closeColorPressed:_,borderPrimary:"1px solid ".concat(U(r,{alpha:.3})),textColorPrimary:r,colorPrimary:U(r,{alpha:.12}),colorBorderedPrimary:U(r,{alpha:.1}),closeIconColorPrimary:r,closeIconColorHoverPrimary:r,closeIconColorPressedPrimary:r,closeColorHoverPrimary:U(r,{alpha:.12}),closeColorPressedPrimary:U(r,{alpha:.18}),borderInfo:"1px solid ".concat(U(s,{alpha:.3})),textColorInfo:s,colorInfo:U(s,{alpha:.12}),colorBorderedInfo:U(s,{alpha:.1}),closeIconColorInfo:s,closeIconColorHoverInfo:s,closeIconColorPressedInfo:s,closeColorHoverInfo:U(s,{alpha:.12}),closeColorPressedInfo:U(s,{alpha:.18}),borderSuccess:"1px solid ".concat(U(l,{alpha:.3})),textColorSuccess:l,colorSuccess:U(l,{alpha:.12}),colorBorderedSuccess:U(l,{alpha:.1}),closeIconColorSuccess:l,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:l,closeColorHoverSuccess:U(l,{alpha:.12}),closeColorPressedSuccess:U(l,{alpha:.18}),borderWarning:"1px solid ".concat(U(i,{alpha:.35})),textColorWarning:i,colorWarning:U(i,{alpha:.15}),colorBorderedWarning:U(i,{alpha:.12}),closeIconColorWarning:i,closeIconColorHoverWarning:i,closeIconColorPressedWarning:i,closeColorHoverWarning:U(i,{alpha:.12}),closeColorPressedWarning:U(i,{alpha:.18}),borderError:"1px solid ".concat(U(c,{alpha:.23})),textColorError:c,colorError:U(c,{alpha:.1}),colorBorderedError:U(c,{alpha:.08}),closeIconColorError:c,closeIconColorHoverError:c,closeIconColorPressedError:c,closeColorHoverError:U(c,{alpha:.12}),closeColorPressedError:U(c,{alpha:.18})})}const jo={name:"Tag",common:De,self:Ko},Uo={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Go=W("tag","\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n",[te("strong","\n font-weight: var(--n-font-weight-strong);\n "),L("border","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n "),L("icon","\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n "),L("avatar","\n display: flex;\n margin: 0 6px 0 0;\n "),L("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),te("round","\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n ",[L("icon","\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n "),L("avatar","\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n "),te("closable","\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n ")]),te("icon, avatar",[te("round","\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n ")]),te("disabled","\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n "),te("checkable","\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n ",[ze("disabled",[ce("&:hover","background-color: var(--n-color-hover-checkable);",[ze("checked","color: var(--n-text-color-hover-checkable);")]),ce("&:active","background-color: var(--n-color-pressed-checkable);",[ze("checked","color: var(--n-text-color-pressed-checkable);")])]),te("checked","\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n ",[ze("disabled",[ce("&:hover","background-color: var(--n-color-checked-hover);"),ce("&:active","background-color: var(--n-color-checked-pressed);")])])])]),qo=Object.assign(Object.assign(Object.assign({},pe.props),Uo),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),Zo=$t("n-tag"),hn=fe({name:"Tag",props:qo,slots:Object,setup(e){const n=B(null),{mergedBorderedRef:t,mergedClsPrefixRef:o,inlineThemeDisabled:r,mergedRtlRef:s}=We(e),l=pe("Tag","-tag",Go,jo,e,o);Je(Zo,{roundRef:le(e,"round")});function i(){if(!e.disabled&&e.checkable){const{checked:m,onCheckedChange:g,onUpdateChecked:I,"onUpdate:checked":O}=e;I&&I(!m),O&&O(!m),g&&g(!m)}}function c(m){if(e.triggerClickOnClose||m.stopPropagation(),!e.disabled){const{onClose:g}=e;g&&ge(g,m)}}const u={setTextContent(m){const{value:g}=n;g&&(g.textContent=m)}},d=xn("Tag",s,o),f=E(()=>{const{type:m,size:g,color:{color:I,textColor:O}={}}=e,{common:{cubicBezierEaseInOut:R},self:{padding:P,closeMargin:T,borderRadius:v,opacityDisabled:y,textColorCheckable:$,textColorHoverCheckable:M,textColorPressedCheckable:G,textColorChecked:q,colorCheckable:_,colorHoverCheckable:Q,colorPressedCheckable:ie,colorChecked:p,colorCheckedHover:z,colorCheckedPressed:N,closeBorderRadius:Z,fontWeightStrong:J,[ee("colorBordered",m)]:X,[ee("closeSize",g)]:Y,[ee("closeIconSize",g)]:K,[ee("fontSize",g)]:ne,[ee("height",g)]:C,[ee("color",m)]:S,[ee("textColor",m)]:j,[ee("border",m)]:ae,[ee("closeIconColor",m)]:be,[ee("closeIconColorHover",m)]:Ce,[ee("closeIconColorPressed",m)]:he,[ee("closeColorHover",m)]:se,[ee("closeColorPressed",m)]:ye}}=l.value,ue=Oe(T);return{"--n-font-weight-strong":J,"--n-avatar-size-override":"calc(".concat(C," - 8px)"),"--n-bezier":R,"--n-border-radius":v,"--n-border":ae,"--n-close-icon-size":K,"--n-close-color-pressed":ye,"--n-close-color-hover":se,"--n-close-border-radius":Z,"--n-close-icon-color":be,"--n-close-icon-color-hover":Ce,"--n-close-icon-color-pressed":he,"--n-close-icon-color-disabled":be,"--n-close-margin-top":ue.top,"--n-close-margin-right":ue.right,"--n-close-margin-bottom":ue.bottom,"--n-close-margin-left":ue.left,"--n-close-size":Y,"--n-color":I||(t.value?X:S),"--n-color-checkable":_,"--n-color-checked":p,"--n-color-checked-hover":z,"--n-color-checked-pressed":N,"--n-color-hover-checkable":Q,"--n-color-pressed-checkable":ie,"--n-font-size":ne,"--n-height":C,"--n-opacity-disabled":y,"--n-padding":P,"--n-text-color":O||j,"--n-text-color-checkable":$,"--n-text-color-checked":q,"--n-text-color-hover-checkable":M,"--n-text-color-pressed-checkable":G}}),w=r?Ve("tag",E(()=>{let m="";const{type:g,size:I,color:{color:O,textColor:R}={}}=e;return m+=g[0],m+=I[0],O&&(m+="a".concat(zn(O))),R&&(m+="b".concat(zn(R))),t.value&&(m+="c"),m}),f,e):void 0;return Object.assign(Object.assign({},u),{rtlEnabled:d,mergedClsPrefix:o,contentRef:n,mergedBordered:t,handleClick:i,handleCloseClick:c,cssVars:r?void 0:f,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender})},render(){var e,n;const{mergedClsPrefix:t,rtlEnabled:o,closable:r,color:{borderColor:s}={},round:l,onRender:i,$slots:c}=this;i==null||i();const u=Qe(c.avatar,f=>f&&h("div",{class:"".concat(t,"-tag__avatar")},f)),d=Qe(c.icon,f=>f&&h("div",{class:"".concat(t,"-tag__icon")},f));return h("div",{class:["".concat(t,"-tag"),this.themeClass,{["".concat(t,"-tag--rtl")]:o,["".concat(t,"-tag--strong")]:this.strong,["".concat(t,"-tag--disabled")]:this.disabled,["".concat(t,"-tag--checkable")]:this.checkable,["".concat(t,"-tag--checked")]:this.checkable&&this.checked,["".concat(t,"-tag--round")]:l,["".concat(t,"-tag--avatar")]:u,["".concat(t,"-tag--icon")]:d,["".concat(t,"-tag--closable")]:r}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},d||u,h("span",{class:"".concat(t,"-tag__content"),ref:"contentRef"},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e)),!this.checkable&&r?h(Bt,{clsPrefix:t,class:"".concat(t,"-tag__close"),disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:l,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?h("div",{class:"".concat(t,"-tag__border"),style:{borderColor:s}}):null)}}),Xo={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};function Yo(e){const{borderRadius:n,textColor2:t,textColorDisabled:o,inputColor:r,inputColorDisabled:s,primaryColor:l,primaryColorHover:i,warningColor:c,warningColorHover:u,errorColor:d,errorColorHover:f,borderColor:w,iconColor:m,iconColorDisabled:g,clearColor:I,clearColorHover:O,clearColorPressed:R,placeholderColor:P,placeholderColorDisabled:T,fontSizeTiny:v,fontSizeSmall:y,fontSizeMedium:$,fontSizeLarge:M,heightTiny:G,heightSmall:q,heightMedium:_,heightLarge:Q,fontWeight:ie}=e;return Object.assign(Object.assign({},Xo),{fontSizeTiny:v,fontSizeSmall:y,fontSizeMedium:$,fontSizeLarge:M,heightTiny:G,heightSmall:q,heightMedium:_,heightLarge:Q,borderRadius:n,fontWeight:ie,textColor:t,textColorDisabled:o,placeholderColor:P,placeholderColorDisabled:T,color:r,colorDisabled:s,colorActive:r,border:"1px solid ".concat(w),borderHover:"1px solid ".concat(i),borderActive:"1px solid ".concat(l),borderFocus:"1px solid ".concat(i),boxShadowHover:"none",boxShadowActive:"0 0 0 2px ".concat(U(l,{alpha:.2})),boxShadowFocus:"0 0 0 2px ".concat(U(l,{alpha:.2})),caretColor:l,arrowColor:m,arrowColorDisabled:g,loadingColor:l,borderWarning:"1px solid ".concat(c),borderHoverWarning:"1px solid ".concat(u),borderActiveWarning:"1px solid ".concat(c),borderFocusWarning:"1px solid ".concat(u),boxShadowHoverWarning:"none",boxShadowActiveWarning:"0 0 0 2px ".concat(U(c,{alpha:.2})),boxShadowFocusWarning:"0 0 0 2px ".concat(U(c,{alpha:.2})),colorActiveWarning:r,caretColorWarning:c,borderError:"1px solid ".concat(d),borderHoverError:"1px solid ".concat(f),borderActiveError:"1px solid ".concat(d),borderFocusError:"1px solid ".concat(f),boxShadowHoverError:"none",boxShadowActiveError:"0 0 0 2px ".concat(U(d,{alpha:.2})),boxShadowFocusError:"0 0 0 2px ".concat(U(d,{alpha:.2})),colorActiveError:r,caretColorError:d,clearColor:I,clearColorHover:O,clearColorPressed:R})}const Yn=yn({name:"InternalSelection",common:De,peers:{Popover:Kt},self:Yo}),Jo=ce([W("base-selection","\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[W("base-loading","\n color: var(--n-loading-color);\n "),W("base-selection-tags","min-height: var(--n-height);"),L("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),L("state-border","\n z-index: 1;\n border-color: #0000;\n "),W("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[L("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),W("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[L("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),W("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[L("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),W("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),W("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[W("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[L("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),L("render-label","\n color: var(--n-text-color);\n ")]),ze("disabled",[ce("&:hover",[L("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),te("focus",[L("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),te("active",[L("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),W("base-selection-label","background-color: var(--n-color-active);"),W("base-selection-tags","background-color: var(--n-color-active);")])]),te("disabled","cursor: not-allowed;",[L("arrow","\n color: var(--n-arrow-color-disabled);\n "),W("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[W("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),L("render-label","\n color: var(--n-text-color-disabled);\n ")]),W("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),W("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),W("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[L("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),L("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map(e=>te("".concat(e,"-status"),[L("state-border","border: var(--n-border-".concat(e,");")),ze("disabled",[ce("&:hover",[L("state-border","\n box-shadow: var(--n-box-shadow-hover-".concat(e,");\n border: var(--n-border-hover-").concat(e,");\n "))]),te("active",[L("state-border","\n box-shadow: var(--n-box-shadow-active-".concat(e,");\n border: var(--n-border-active-").concat(e,");\n ")),W("base-selection-label","background-color: var(--n-color-active-".concat(e,");")),W("base-selection-tags","background-color: var(--n-color-active-".concat(e,");"))]),te("focus",[L("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(e,");\n border: var(--n-border-focus-").concat(e,");\n "))])])]))]),W("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),W("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[ce("&:last-child","padding-right: 0;"),W("tag","\n font-size: 14px;\n max-width: 100%;\n ",[L("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),Qo=fe({name:"InternalSelection",props:Object.assign(Object.assign({},pe.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:t}=We(e),o=xn("InternalSelection",t,n),r=B(null),s=B(null),l=B(null),i=B(null),c=B(null),u=B(null),d=B(null),f=B(null),w=B(null),m=B(null),g=B(!1),I=B(!1),O=B(!1),R=pe("InternalSelection","-internal-selection",Jo,Yn,e,le(e,"clsPrefix")),P=E(()=>e.clearable&&!e.disabled&&(O.value||e.active)),T=E(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):Ie(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),v=E(()=>{const b=e.selectedOption;if(b)return b[e.labelField]}),y=E(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function $(){var b;const{value:k}=r;if(k){const{value:oe}=s;oe&&(oe.style.width="".concat(k.offsetWidth,"px"),e.maxTagCount!=="responsive"&&((b=w.value)===null||b===void 0||b.sync({showAllItemsBeforeCalculate:!1})))}}function M(){const{value:b}=m;b&&(b.style.display="none")}function G(){const{value:b}=m;b&&(b.style.display="inline-block")}Te(le(e,"active"),b=>{b||M()}),Te(le(e,"pattern"),()=>{e.multiple&&Cn($)});function q(b){const{onFocus:k}=e;k&&k(b)}function _(b){const{onBlur:k}=e;k&&k(b)}function Q(b){const{onDeleteOption:k}=e;k&&k(b)}function ie(b){const{onClear:k}=e;k&&k(b)}function p(b){const{onPatternInput:k}=e;k&&k(b)}function z(b){var k;(!b.relatedTarget||!(!((k=l.value)===null||k===void 0)&&k.contains(b.relatedTarget)))&&q(b)}function N(b){var k;!((k=l.value)===null||k===void 0)&&k.contains(b.relatedTarget)||_(b)}function Z(b){ie(b)}function J(){O.value=!0}function X(){O.value=!1}function Y(b){!e.active||!e.filterable||b.target!==s.value&&b.preventDefault()}function K(b){Q(b)}const ne=B(!1);function C(b){if(b.key==="Backspace"&&!ne.value&&!e.pattern.length){const{selectedOptions:k}=e;k!=null&&k.length&&K(k[k.length-1])}}let S=null;function j(b){const{value:k}=r;if(k){const oe=b.target.value;k.textContent=oe,$()}e.ignoreComposition&&ne.value?S=b:p(b)}function ae(){ne.value=!0}function be(){ne.value=!1,e.ignoreComposition&&p(S),S=null}function Ce(b){var k;I.value=!0,(k=e.onPatternFocus)===null||k===void 0||k.call(e,b)}function he(b){var k;I.value=!1,(k=e.onPatternBlur)===null||k===void 0||k.call(e,b)}function se(){var b,k;if(e.filterable)I.value=!1,(b=u.value)===null||b===void 0||b.blur(),(k=s.value)===null||k===void 0||k.blur();else if(e.multiple){const{value:oe}=i;oe==null||oe.blur()}else{const{value:oe}=c;oe==null||oe.blur()}}function ye(){var b,k,oe;e.filterable?(I.value=!1,(b=u.value)===null||b===void 0||b.focus()):e.multiple?(k=i.value)===null||k===void 0||k.focus():(oe=c.value)===null||oe===void 0||oe.focus()}function ue(){const{value:b}=s;b&&(G(),b.focus())}function Fe(){const{value:b}=s;b&&b.blur()}function Me(b){const{value:k}=d;k&&k.setTextContent("+".concat(b))}function Be(){const{value:b}=f;return b}function $e(){return s.value}let we=null;function Se(){we!==null&&window.clearTimeout(we)}function _e(){e.active||(Se(),we=window.setTimeout(()=>{y.value&&(g.value=!0)},100))}function Ee(){Se()}function Ae(b){b||(Se(),g.value=!1)}Te(y,b=>{b||(g.value=!1)}),He(()=>{_t(()=>{const b=u.value;b&&(e.disabled?b.removeAttribute("tabindex"):b.tabIndex=I.value?-1:0)})}),Un(l,e.onResize);const{inlineThemeDisabled:Pe}=e,ke=E(()=>{const{size:b}=e,{common:{cubicBezierEaseInOut:k},self:{fontWeight:oe,borderRadius:tn,color:on,placeholderColor:Ke,textColor:je,paddingSingle:Ue,paddingMultiple:rn,caretColor:ln,colorDisabled:Ge,textColorDisabled:xe,placeholderColorDisabled:a,colorActive:x,boxShadowFocus:F,boxShadowActive:V,boxShadowHover:H,border:A,borderFocus:D,borderHover:re,borderActive:ve,arrowColor:Qn,arrowColorDisabled:et,loadingColor:nt,colorActiveWarning:tt,boxShadowFocusWarning:ot,boxShadowActiveWarning:rt,boxShadowHoverWarning:lt,borderWarning:it,borderFocusWarning:at,borderHoverWarning:st,borderActiveWarning:dt,colorActiveError:ct,boxShadowFocusError:ut,boxShadowActiveError:ft,boxShadowHoverError:ht,borderError:gt,borderFocusError:vt,borderHoverError:pt,borderActiveError:bt,clearColor:mt,clearColorHover:Ct,clearColorPressed:yt,clearSize:xt,arrowSize:wt,[ee("height",b)]:St,[ee("fontSize",b)]:kt}}=R.value,qe=Oe(Ue),Ze=Oe(rn);return{"--n-bezier":k,"--n-border":A,"--n-border-active":ve,"--n-border-focus":D,"--n-border-hover":re,"--n-border-radius":tn,"--n-box-shadow-active":V,"--n-box-shadow-focus":F,"--n-box-shadow-hover":H,"--n-caret-color":ln,"--n-color":on,"--n-color-active":x,"--n-color-disabled":Ge,"--n-font-size":kt,"--n-height":St,"--n-padding-single-top":qe.top,"--n-padding-multiple-top":Ze.top,"--n-padding-single-right":qe.right,"--n-padding-multiple-right":Ze.right,"--n-padding-single-left":qe.left,"--n-padding-multiple-left":Ze.left,"--n-padding-single-bottom":qe.bottom,"--n-padding-multiple-bottom":Ze.bottom,"--n-placeholder-color":Ke,"--n-placeholder-color-disabled":a,"--n-text-color":je,"--n-text-color-disabled":xe,"--n-arrow-color":Qn,"--n-arrow-color-disabled":et,"--n-loading-color":nt,"--n-color-active-warning":tt,"--n-box-shadow-focus-warning":ot,"--n-box-shadow-active-warning":rt,"--n-box-shadow-hover-warning":lt,"--n-border-warning":it,"--n-border-focus-warning":at,"--n-border-hover-warning":st,"--n-border-active-warning":dt,"--n-color-active-error":ct,"--n-box-shadow-focus-error":ut,"--n-box-shadow-active-error":ft,"--n-box-shadow-hover-error":ht,"--n-border-error":gt,"--n-border-focus-error":vt,"--n-border-hover-error":pt,"--n-border-active-error":bt,"--n-clear-size":xt,"--n-clear-color":mt,"--n-clear-color-hover":Ct,"--n-clear-color-pressed":yt,"--n-arrow-size":wt,"--n-font-weight":oe}}),de=Pe?Ve("internal-selection",E(()=>e.size[0]),ke,e):void 0;return{mergedTheme:R,mergedClearable:P,mergedClsPrefix:n,rtlEnabled:o,patternInputFocused:I,filterablePlaceholder:T,label:v,selected:y,showTagsPanel:g,isComposing:ne,counterRef:d,counterWrapperRef:f,patternInputMirrorRef:r,patternInputRef:s,selfRef:l,multipleElRef:i,singleElRef:c,patternInputWrapperRef:u,overflowRef:w,inputTagElRef:m,handleMouseDown:Y,handleFocusin:z,handleClear:Z,handleMouseEnter:J,handleMouseLeave:X,handleDeleteOption:K,handlePatternKeyDown:C,handlePatternInputInput:j,handlePatternInputBlur:he,handlePatternInputFocus:Ce,handleMouseEnterCounter:_e,handleMouseLeaveCounter:Ee,handleFocusout:N,handleCompositionEnd:be,handleCompositionStart:ae,onPopoverUpdateShow:Ae,focus:ye,focusInput:ue,blur:se,blurInput:Fe,updateCounter:Me,getCounter:Be,getTail:$e,renderLabel:e.renderLabel,cssVars:Pe?void 0:ke,themeClass:de==null?void 0:de.themeClass,onRender:de==null?void 0:de.onRender}},render(){const{status:e,multiple:n,size:t,disabled:o,filterable:r,maxTagCount:s,bordered:l,clsPrefix:i,ellipsisTagPopoverProps:c,onRender:u,renderTag:d,renderLabel:f}=this;u==null||u();const w=s==="responsive",m=typeof s=="number",g=w||m,I=h(Et,null,{default:()=>h(Gt,{clsPrefix:i,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var R,P;return(P=(R=this.$slots).arrow)===null||P===void 0?void 0:P.call(R)}})});let O;if(n){const{labelField:R}=this,P=p=>h("div",{class:"".concat(i,"-base-selection-tag-wrapper"),key:p.value},d?d({option:p,handleClose:()=>{this.handleDeleteOption(p)}}):h(hn,{size:t,closable:!p.disabled,disabled:o,onClose:()=>{this.handleDeleteOption(p)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>f?f(p,!0):Ie(p[R],p,!0)})),T=()=>(m?this.selectedOptions.slice(0,s):this.selectedOptions).map(P),v=r?h("div",{class:"".concat(i,"-base-selection-input-tag"),ref:"inputTagElRef",key:"__input-tag__"},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:"".concat(i,"-base-selection-input-tag__input"),onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h("span",{ref:"patternInputMirrorRef",class:"".concat(i,"-base-selection-input-tag__mirror")},this.pattern)):null,y=w?()=>h("div",{class:"".concat(i,"-base-selection-tag-wrapper"),ref:"counterWrapperRef"},h(hn,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let $;if(m){const p=this.selectedOptions.length-s;p>0&&($=h("div",{class:"".concat(i,"-base-selection-tag-wrapper"),key:"__counter__"},h(hn,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>"+".concat(p)})))}const M=w?r?h(Fn,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:T,counter:y,tail:()=>v}):h(Fn,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:T,counter:y}):m&&$?T().concat($):T(),G=g?()=>h("div",{class:"".concat(i,"-base-selection-popover")},w?T():this.selectedOptions.map(P)):void 0,q=g?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},c):null,Q=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?h("div",{class:"".concat(i,"-base-selection-placeholder ").concat(i,"-base-selection-overlay")},h("div",{class:"".concat(i,"-base-selection-placeholder__inner")},this.placeholder)):null,ie=r?h("div",{ref:"patternInputWrapperRef",class:"".concat(i,"-base-selection-tags")},M,w?null:v,I):h("div",{ref:"multipleElRef",class:"".concat(i,"-base-selection-tags"),tabindex:o?void 0:0},M,I);O=h(At,null,g?h(jt,Object.assign({},q,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>ie,default:G}):ie,Q)}else if(r){const R=this.pattern||this.isComposing,P=this.active?!R:!this.selected,T=this.active?!1:this.selected;O=h("div",{ref:"patternInputWrapperRef",class:"".concat(i,"-base-selection-label"),title:this.patternInputFocused?void 0:Mn(this.label)},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:"".concat(i,"-base-selection-input"),value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),T?h("div",{class:"".concat(i,"-base-selection-label__render-label ").concat(i,"-base-selection-overlay"),key:"input"},h("div",{class:"".concat(i,"-base-selection-overlay__wrapper")},d?d({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):Ie(this.label,this.selectedOption,!0))):null,P?h("div",{class:"".concat(i,"-base-selection-placeholder ").concat(i,"-base-selection-overlay"),key:"placeholder"},h("div",{class:"".concat(i,"-base-selection-overlay__wrapper")},this.filterablePlaceholder)):null,I)}else O=h("div",{ref:"singleElRef",class:"".concat(i,"-base-selection-label"),tabindex:this.disabled?void 0:0},this.label!==void 0?h("div",{class:"".concat(i,"-base-selection-input"),title:Mn(this.label),key:"input"},h("div",{class:"".concat(i,"-base-selection-input__content")},d?d({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):Ie(this.label,this.selectedOption,!0))):h("div",{class:"".concat(i,"-base-selection-placeholder ").concat(i,"-base-selection-overlay"),key:"placeholder"},h("div",{class:"".concat(i,"-base-selection-placeholder__inner")},this.placeholder)),I);return h("div",{ref:"selfRef",class:["".concat(i,"-base-selection"),this.rtlEnabled&&"".concat(i,"-base-selection--rtl"),this.themeClass,e&&"".concat(i,"-base-selection--").concat(e,"-status"),{["".concat(i,"-base-selection--active")]:this.active,["".concat(i,"-base-selection--selected")]:this.selected||this.active&&this.pattern,["".concat(i,"-base-selection--disabled")]:this.disabled,["".concat(i,"-base-selection--multiple")]:this.multiple,["".concat(i,"-base-selection--focus")]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},O,l?h("div",{class:"".concat(i,"-base-selection__border")}):null,l?h("div",{class:"".concat(i,"-base-selection__state-border")}):null)}});function nn(e){return e.type==="group"}function Jn(e){return e.type==="ignored"}function gn(e,n){try{return!!(1+n.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(t){return!1}}function er(e,n){return{getIsGroup:nn,getIgnored:Jn,getKey(o){return nn(o)?o.name||o.key||"key-required":o[e]},getChildren(o){return o[n]}}}function nr(e,n,t,o){if(!n)return e;function r(s){if(!Array.isArray(s))return[];const l=[];for(const i of s)if(nn(i)){const c=r(i[o]);c.length&&l.push(Object.assign({},i,{[o]:c}))}else{if(Jn(i))continue;n(t,i)&&l.push(i)}return l}return r(e)}function tr(e,n,t){const o=new Map;return e.forEach(r=>{nn(r)?r[t].forEach(s=>{o.set(s[n],s)}):o.set(r[n],r)}),o}function or(e){const{boxShadow2:n}=e;return{menuBoxShadow:n}}const rr=yn({name:"Select",common:De,peers:{InternalSelection:Yn,InternalSelectMenu:Xn},self:or}),lr=ce([W("select","\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n "),W("select-menu","\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n ",[Dn({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),ir=Object.assign(Object.assign({},pe.props),{to:pn.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),fr=fe({name:"Select",props:ir,slots:Object,setup(e){const{mergedClsPrefixRef:n,mergedBorderedRef:t,namespaceRef:o,inlineThemeDisabled:r}=We(e),s=pe("Select","-select",lr,rr,e,n),l=B(e.defaultValue),i=le(e,"value"),c=Tn(i,l),u=B(!1),d=B(""),f=Ut(e,["items","options"]),w=B([]),m=B([]),g=E(()=>m.value.concat(w.value).concat(f.value)),I=E(()=>{const{filter:a}=e;if(a)return a;const{labelField:x,valueField:F}=e;return(V,H)=>{if(!H)return!1;const A=H[x];if(typeof A=="string")return gn(V,A);const D=H[F];return typeof D=="string"?gn(V,D):typeof D=="number"?gn(V,String(D)):!1}}),O=E(()=>{if(e.remote)return f.value;{const{value:a}=g,{value:x}=d;return!x.length||!e.filterable?a:nr(a,I.value,x,e.childrenField)}}),R=E(()=>{const{valueField:a,childrenField:x}=e,F=er(a,x);return Mo(O.value,F)}),P=E(()=>tr(g.value,e.valueField,e.childrenField)),T=B(!1),v=Tn(le(e,"show"),T),y=B(null),$=B(null),M=B(null),{localeRef:G}=Wn("Select"),q=E(()=>{var a;return(a=e.placeholder)!==null&&a!==void 0?a:G.value.placeholder}),_=[],Q=B(new Map),ie=E(()=>{const{fallbackOption:a}=e;if(a===void 0){const{labelField:x,valueField:F}=e;return V=>({[x]:String(V),[F]:V})}return a===!1?!1:x=>Object.assign(a(x),{value:x})});function p(a){const x=e.remote,{value:F}=Q,{value:V}=P,{value:H}=ie,A=[];return a.forEach(D=>{if(V.has(D))A.push(V.get(D));else if(x&&F.has(D))A.push(F.get(D));else if(H){const re=H(D);re&&A.push(re)}}),A}const z=E(()=>{if(e.multiple){const{value:a}=c;return Array.isArray(a)?p(a):[]}return null}),N=E(()=>{const{value:a}=c;return!e.multiple&&!Array.isArray(a)?a===null?null:p([a])[0]||null:null}),Z=Lt(e),{mergedSizeRef:J,mergedDisabledRef:X,mergedStatusRef:Y}=Z;function K(a,x){const{onChange:F,"onUpdate:value":V,onUpdateValue:H}=e,{nTriggerFormChange:A,nTriggerFormInput:D}=Z;F&&ge(F,a,x),H&&ge(H,a,x),V&&ge(V,a,x),l.value=a,A(),D()}function ne(a){const{onBlur:x}=e,{nTriggerFormBlur:F}=Z;x&&ge(x,a),F()}function C(){const{onClear:a}=e;a&&ge(a)}function S(a){const{onFocus:x,showOnFocus:F}=e,{nTriggerFormFocus:V}=Z;x&&ge(x,a),V(),F&&he()}function j(a){const{onSearch:x}=e;x&&ge(x,a)}function ae(a){const{onScroll:x}=e;x&&ge(x,a)}function be(){var a;const{remote:x,multiple:F}=e;if(x){const{value:V}=Q;if(F){const{valueField:H}=e;(a=z.value)===null||a===void 0||a.forEach(A=>{V.set(A[H],A)})}else{const H=N.value;H&&V.set(H[e.valueField],H)}}}function Ce(a){const{onUpdateShow:x,"onUpdate:show":F}=e;x&&ge(x,a),F&&ge(F,a),T.value=a}function he(){X.value||(Ce(!0),T.value=!0,e.filterable&&Ue())}function se(){Ce(!1)}function ye(){d.value="",m.value=_}const ue=B(!1);function Fe(){e.filterable&&(ue.value=!0)}function Me(){e.filterable&&(ue.value=!1,v.value||ye())}function Be(){X.value||(v.value?e.filterable?Ue():se():he())}function $e(a){var x,F;!((F=(x=M.value)===null||x===void 0?void 0:x.selfRef)===null||F===void 0)&&F.contains(a.relatedTarget)||(u.value=!1,ne(a),se())}function we(a){S(a),u.value=!0}function Se(){u.value=!0}function _e(a){var x;!((x=y.value)===null||x===void 0)&&x.$el.contains(a.relatedTarget)||(u.value=!1,ne(a),se())}function Ee(){var a;(a=y.value)===null||a===void 0||a.focus(),se()}function Ae(a){var x;v.value&&(!((x=y.value)===null||x===void 0)&&x.$el.contains(Wt(a))||se())}function Pe(a){if(!Array.isArray(a))return[];if(ie.value)return Array.from(a);{const{remote:x}=e,{value:F}=P;if(x){const{value:V}=Q;return a.filter(H=>F.has(H)||V.has(H))}else return a.filter(V=>F.has(V))}}function ke(a){de(a.rawNode)}function de(a){if(X.value)return;const{tag:x,remote:F,clearFilterAfterSelect:V,valueField:H}=e;if(x&&!F){const{value:A}=m,D=A[0]||null;if(D){const re=w.value;re.length?re.push(D):w.value=[D],m.value=_}}if(F&&Q.value.set(a[H],a),e.multiple){const A=Pe(c.value),D=A.findIndex(re=>re===a[H]);if(~D){if(A.splice(D,1),x&&!F){const re=b(a[H]);~re&&(w.value.splice(re,1),V&&(d.value=""))}}else A.push(a[H]),V&&(d.value="");K(A,p(A))}else{if(x&&!F){const A=b(a[H]);~A?w.value=[w.value[A]]:w.value=_}je(),se(),K(a[H],a)}}function b(a){return w.value.findIndex(F=>F[e.valueField]===a)}function k(a){v.value||he();const{value:x}=a.target;d.value=x;const{tag:F,remote:V}=e;if(j(x),F&&!V){if(!x){m.value=_;return}const{onCreate:H}=e,A=H?H(x):{[e.labelField]:x,[e.valueField]:x},{valueField:D,labelField:re}=e;f.value.some(ve=>ve[D]===A[D]||ve[re]===A[re])||w.value.some(ve=>ve[D]===A[D]||ve[re]===A[re])?m.value=_:m.value=[A]}}function oe(a){a.stopPropagation();const{multiple:x}=e;!x&&e.filterable&&se(),C(),x?K([],[]):K(null,null)}function tn(a){!Ne(a,"action")&&!Ne(a,"empty")&&!Ne(a,"header")&&a.preventDefault()}function on(a){ae(a)}function Ke(a){var x,F,V,H,A;if(!e.keyboard){a.preventDefault();return}switch(a.key){case" ":if(e.filterable)break;a.preventDefault();case"Enter":if(!(!((x=y.value)===null||x===void 0)&&x.isComposing)){if(v.value){const D=(F=M.value)===null||F===void 0?void 0:F.getPendingTmNode();D?ke(D):e.filterable||(se(),je())}else if(he(),e.tag&&ue.value){const D=m.value[0];if(D){const re=D[e.valueField],{value:ve}=c;e.multiple&&Array.isArray(ve)&&ve.includes(re)||de(D)}}}a.preventDefault();break;case"ArrowUp":if(a.preventDefault(),e.loading)return;v.value&&((V=M.value)===null||V===void 0||V.prev());break;case"ArrowDown":if(a.preventDefault(),e.loading)return;v.value?(H=M.value)===null||H===void 0||H.next():he();break;case"Escape":v.value&&(Vt(a),se()),(A=y.value)===null||A===void 0||A.focus();break}}function je(){var a;(a=y.value)===null||a===void 0||a.focus()}function Ue(){var a;(a=y.value)===null||a===void 0||a.focusInput()}function rn(){var a;v.value&&((a=$.value)===null||a===void 0||a.syncPosition())}be(),Te(le(e,"options"),be);const ln={focus:()=>{var a;(a=y.value)===null||a===void 0||a.focus()},focusInput:()=>{var a;(a=y.value)===null||a===void 0||a.focusInput()},blur:()=>{var a;(a=y.value)===null||a===void 0||a.blur()},blurInput:()=>{var a;(a=y.value)===null||a===void 0||a.blurInput()}},Ge=E(()=>{const{self:{menuBoxShadow:a}}=s.value;return{"--n-menu-box-shadow":a}}),xe=r?Ve("select",void 0,Ge,e):void 0;return Object.assign(Object.assign({},ln),{mergedStatus:Y,mergedClsPrefix:n,mergedBordered:t,namespace:o,treeMate:R,isMounted:Nt(),triggerRef:y,menuRef:M,pattern:d,uncontrolledShow:T,mergedShow:v,adjustedTo:pn(e),uncontrolledValue:l,mergedValue:c,followerRef:$,localizedPlaceholder:q,selectedOption:N,selectedOptions:z,mergedSize:J,mergedDisabled:X,focused:u,activeWithoutMenuOpen:ue,inlineThemeDisabled:r,onTriggerInputFocus:Fe,onTriggerInputBlur:Me,handleTriggerOrMenuResize:rn,handleMenuFocus:Se,handleMenuBlur:_e,handleMenuTabOut:Ee,handleTriggerClick:Be,handleToggle:ke,handleDeleteOption:de,handlePatternInput:k,handleClear:oe,handleTriggerBlur:$e,handleTriggerFocus:we,handleKeydown:Ke,handleMenuAfterLeave:ye,handleMenuClickOutside:Ae,handleMenuScroll:on,handleMenuKeydown:Ke,handleMenuMousedown:tn,mergedTheme:s,cssVars:r?void 0:Ge,themeClass:xe==null?void 0:xe.themeClass,onRender:xe==null?void 0:xe.onRender})},render(){return h("div",{class:"".concat(this.mergedClsPrefix,"-select")},h(Xt,null,{default:()=>[h(Yt,null,{default:()=>h(Qo,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,n;return[(n=(e=this.$slots).arrow)===null||n===void 0?void 0:n.call(e)]}})}),h(Jt,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===pn.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>h(Hn,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,n,t;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),Ht(h(Wo,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:["".concat(this.mergedClsPrefix,"-select-menu"),this.themeClass,(n=this.menuProps)===null||n===void 0?void 0:n.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(t=this.menuProps)===null||t===void 0?void 0:t.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var o,r;return[(r=(o=this.$slots).empty)===null||r===void 0?void 0:r.call(o)]},header:()=>{var o,r;return[(r=(o=this.$slots).header)===null||r===void 0?void 0:r.call(o)]},action:()=>{var o,r;return[(r=(o=this.$slots).action)===null||r===void 0?void 0:r.call(o)]}}),this.displayDirective==="show"?[[Dt,this.mergedShow],[Rn,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Rn,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}});export{Ao as N,Fn as V,Co as a,to as b,Mo as c,fr as d,Zn as e,Oo as f,hn as g};
