"use strict";(self["webpackChunkfrost_navigation"]=self["webpackChunkfrost_navigation"]||[]).push([[804],{1804:function(t,s,e){e.r(s),e.d(s,{default:function(){return r}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"tool-page"},[t._m(0),s("div",{staticClass:"inputs"},[s("div",{staticClass:"title"},[t._v("参数")]),s("div",{staticClass:"content"},[s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("Mod ID")]),s("el-input",{attrs:{type:"text",size:"small",clearable:"",required:""},model:{value:t.inputs.modID,callback:function(s){t.$set(t.inputs,"modID",s)},expression:"inputs.modID"}})],1),s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("注释")]),s("el-input",{attrs:{type:"text",size:"small",clearable:""},model:{value:t.inputs.comment,callback:function(s){t.$set(t.inputs,"comment",s)},expression:"inputs.comment"}})],1),s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("方块 ID")]),s("el-input",{attrs:{type:"text",size:"small",placeholder:"例：stone（不带命名空间）",clearable:"",required:""},model:{value:t.inputs.blockID,callback:function(s){t.$set(t.inputs,"blockID",s)},expression:"inputs.blockID"}})],1),s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("子方块")]),s("el-input",{attrs:{type:"text",size:"small",placeholder:"范围：0 ~ 15，默认：0，可以使用 *",minlength:0,maxlength:1,clearable:""},model:{value:t.inputs.blockSubset,callback:function(s){t.$set(t.inputs,"blockSubset",s)},expression:"inputs.blockSubset"}})],1),s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("透明方块")]),s("el-checkbox",{model:{value:t.inputs.isTransparent,callback:function(s){t.$set(t.inputs,"isTransparent",s)},expression:"inputs.isTransparent"}})],1),s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("纹理 ID")]),s("el-input",{attrs:{type:"text",size:"small",placeholder:"默认：与方块 ID 相同",clearable:""},model:{value:t.inputs.textureID,callback:function(s){t.$set(t.inputs,"textureID",s)},expression:"inputs.textureID"}})],1),s("div",{staticClass:"content-row"},[s("span",{staticClass:"row-label"},[t._v("纹理文件路径")]),s("el-input",{attrs:{type:"text",size:"small",placeholder:"例：assets/minecraft/textures/blocks/stone.png",clearable:"",required:""},model:{value:t.inputs.textureFilePath,callback:function(s){t.$set(t.inputs,"textureFilePath",s)},expression:"inputs.textureFilePath"}})],1)])]),s("div",{staticClass:"actions"},[s("div",{staticClass:"title"},[t._v("操作")]),s("div",{staticClass:"content"},[s("div",{staticClass:"content-row"},[s("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:function(s){return t.addBlock()}}},[t._v("添加方块")]),s("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:function(s){return t.historyCtrl("undo")}}},[t._v("撤销操作")]),s("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:function(s){return t.historyCtrl("redo")}}},[t._v("还原操作")])],1),s("div",{staticClass:"content-row"},[s("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(s){return t.clearResult()}}},[t._v("清除结果")]),s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(s){return t.mergeResult()}}},[t._v("合并结果")]),s("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(s){return t.clearMerged()}}},[t._v("清除合并")])],1),s("div",{staticClass:"content-row"},[s("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:function(s){return t.saveResult()}}},[t._v("记录结果")]),s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(s){return t.loadSaves()}}},[t._v("载入记录")]),s("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(s){return t.clearSaves()}}},[t._v("清除记录")])],1)])]),s("div",{staticClass:"outputs"},[s("div",{staticClass:"title"},[t._v("生成结果")]),s("div",{staticClass:"content"},[s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v(t._s(t.inputs.modID||"*")+"-models.txt, ")]),s("span",[t._v(t._s(t.inputs.modID||"*")+"-texture.txt")]),s("span",[t._v(" - modname")])]),s("el-input",{attrs:{type:"text",size:"small",readonly:""},model:{value:t.outputs.modID,callback:function(s){t.$set(t.outputs,"modID",s)},expression:"outputs.modID"}})],1),s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v(t._s(t.inputs.modID||"*")+"-models.txt - patch")])]),s("el-input",{attrs:{type:"textarea",rows:10,readonly:""},model:{value:t.outputs.modelsPatch,callback:function(s){t.$set(t.outputs,"modelsPatch",s)},expression:"outputs.modelsPatch"}})],1),s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v(t._s(t.inputs.modID||"*")+"-models.txt - patchblock")])]),s("el-input",{staticClass:"part",attrs:{type:"textarea",rows:10},model:{value:t.outputs.modelsPatchBlock,callback:function(s){t.$set(t.outputs,"modelsPatchBlock",s)},expression:"outputs.modelsPatchBlock"}})],1),s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v(t._s(t.inputs.modID||"*")+"-texture.txt - texture")])]),s("el-input",{staticClass:"part",attrs:{type:"textarea",rows:10},model:{value:t.outputs.textureTexture,callback:function(s){t.$set(t.outputs,"textureTexture",s)},expression:"outputs.textureTexture"}})],1),s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v(t._s(t.inputs.modID||"*")+"-texture.txt - block")])]),s("el-input",{staticClass:"part",attrs:{type:"textarea",rows:10},model:{value:t.outputs.textureBlock,callback:function(s){t.$set(t.outputs,"textureBlock",s)},expression:"outputs.textureBlock"}})],1),s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v("合并："+t._s(t.inputs.modID||"*")+"-models.txt")])]),s("el-input",{staticClass:"merged",attrs:{type:"textarea",rows:10,readonly:""},model:{value:t.outputs.mergedModels,callback:function(s){t.$set(t.outputs,"mergedModels",s)},expression:"outputs.mergedModels"}})],1),s("div",{staticClass:"content-row"},[s("div",{staticClass:"row-title"},[s("span",[t._v("合并："+t._s(t.inputs.modID||"*")+"-texture.txt")])]),s("el-input",{staticClass:"merged",attrs:{type:"textarea",rows:10,readonly:""},model:{value:t.outputs.mergedTexture,callback:function(s){t.$set(t.outputs,"mergedTexture",s)},expression:"outputs.mergedTexture"}})],1)])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"notice"},[s("div",{staticClass:"title"},[t._v("说明")]),s("div",{staticClass:"content"},[s("p",[t._v("目前仅支持普通方块。")]),s("p",[t._v("已测试游戏版本：Minecraft 1.12.2")])])])}],o=(e(9138),{name:"MinecraftDynmapRenderdataGen",data(){return{datas:{modelsPatch1:"",modelsPatch2:""},inputs:{blockID:"",blockSubset:"",comment:"",isTransparent:!1,modID:"",textureFilePath:"",textureID:""},outputs:{modID:"",modelsPatch:"",modelsPatchBlock:"",textureTexture:"",textureBlock:"",mergedModels:"",mergedTexture:""},historyIndex:0,historyMax:20,historyList:[]}},created(){this.initDatas()},methods:{initDatas(){const t=this.datas,s=this.outputs;t.modelsPatch1="patch:id=patch0,Ox=0.0,Oy=0.0,Oz=0.0,Ux=1.0,Uy=0.0,Uz=0.0,Vx=0.0,Vy=0.0,Vz=1.0,Umin=0.0,Umax=1.0,Vmin=0.0,Vmax=1.0,VmaxAtUMax=1.0,VminAtUMax=0.0,visibility=top\npatch:id=patch1,Ox=0.0,Oy=1.0,Oz=1.0,Ux=1.0,Uy=1.0,Uz=1.0,Vx=0.0,Vy=1.0,Vz=0.0,Umin=0.0,Umax=1.0,Vmin=0.0,Vmax=1.0,VmaxAtUMax=1.0,VminAtUMax=0.0,visibility=top\npatch:id=patch2,Ox=1.0,Oy=0.0,Oz=0.0,Ux=0.0,Uy=0.0,Uz=0.0,Vx=1.0,Vy=1.0,Vz=0.0,Umin=0.0,Umax=1.0,Vmin=0.0,Vmax=1.0,VmaxAtUMax=1.0,VminAtUMax=0.0,visibility=top\npatch:id=patch3,Ox=0.0,Oy=0.0,Oz=1.0,Ux=1.0,Uy=0.0,Uz=1.0,Vx=0.0,Vy=1.0,Vz=1.0,Umin=0.0,Umax=1.0,Vmin=0.0,Vmax=1.0,VmaxAtUMax=1.0,VminAtUMax=0.0,visibility=top\npatch:id=patch4,Ox=0.0,Oy=0.0,Oz=0.0,Ux=0.0,Uy=0.0,Uz=1.0,Vx=0.0,Vy=1.0,Vz=0.0,Umin=0.0,Umax=1.0,Vmin=0.0,Vmax=1.0,VmaxAtUMax=1.0,VminAtUMax=0.0,visibility=top\npatch:id=patch5,Ox=1.0,Oy=0.0,Oz=1.0,Ux=1.0,Uy=0.0,Uz=0.0,Vx=1.0,Vy=1.0,Vz=1.0,Umin=0.0,Umax=1.0,Vmin=0.0,Vmax=1.0,VmaxAtUMax=1.0,VminAtUMax=0.0,visibility=top",t.modelsPatch2=",patch0=patch0,patch1=patch1,patch2=patch2,patch3=patch3,patch4=patch4,patch5=patch5",s.modelsPatch=t.modelsPatch1},confirmDialog(t="",s=null,e=null){t=t||"确定要进行此操作？",this.$confirm(t,"确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{s&&s()})).catch((()=>{e&&e()}))},historyCtrl(t){const{outputs:s,historyIndex:e,historyMax:a,historyList:i}=this,o=i.length;if("record"===t)e<o-1&&i.splice(e+1,o-(e+1)),o>=a&&i.splice(0,o-a+1),i.push(JSON.parse(JSON.stringify(s))),this.historyIndex=i.length-1;else if("redo"===t){const t=i[e+1];t?(this.outputs=JSON.parse(JSON.stringify(t)),this.historyIndex+=1):this.$message({duration:3e3,message:"没有可以还原的内容",type:"warning"})}else if("undo"===t){const t=i[e-1];t?(this.outputs=JSON.parse(JSON.stringify(t)),this.historyIndex-=1):this.$message({duration:3e3,message:"没有可以撤销的内容",type:"warning"})}},syncModID(){const{inputs:t,outputs:s}=this,e=t.modID.toLowerCase();t.modID=e,s.modID=e?`modname:${e}`:""},addBlock(){const t=t=>{const{comment:s}=this.inputs,e=t?"\n":"";return s?`${e}# ${s}\n`:e},s=()=>{const t=this.inputs.blockSubset;return t||"0"},e=()=>{const{inputs:t}=this,s=t.textureID||t.modID;return s},{datas:a,inputs:i,outputs:o}=this,n=["blockID","modID","textureFilePath"];for(let c=0;c<n.length;c++)if(!i[n[c]])return void this.$message({duration:3e3,message:"内容未填写完整",type:"warning"});this.syncModID();let l=null;l=o.modelsPatchBlock,l+=t(l),l+="patchblock:id=%",l+=i.blockID,l+=",data=",l+=s(l),l+=a.modelsPatch2,o.modelsPatchBlock=l,l=o.textureTexture,l+=t(l),l+="texture:id=",l+=e(l),l+=",filename=",l+=i.textureFilePath,l+=",xcount=1,ycount=1",o.textureTexture=l,l=o.textureBlock,l+=t(l),l+="block:id=%",l+=i.blockID,l+=",data=",l+=s(l),l+=",allfaces=0:",l+=e(l),l+=",stdrot=true",i.isTransparent&&(l+=",transparency=TRANSPARENT"),o.textureBlock=l,this.historyCtrl("record")},clearResult(){const{outputs:t}=this,s="是否清除生成结果？";this.confirmDialog(s,(()=>{for(let s in t)t[s]="";this.initDatas(),this.$message({duration:3e3,message:"已清除",type:"success"}),this.historyCtrl("record")}))},mergeResult(){const{outputs:t}=this,s=["modID","modelsPatch","modelsPatchBlock"],e=["modID","textureTexture","textureBlock"];this.clearMerged(),this.syncModID(),t.modID?(s.forEach(((s,e)=>{const a=0===e?"":"\n\n";t.mergedModels+=a+t[s]})),e.forEach(((s,e)=>{const a=0===e?"":"\n\n";t.mergedTexture+=a+t[s]}))):this.$message({duration:3e3,message:"Mod ID 为空",type:"warning"})},clearMerged(){const{outputs:t}=this;t.mergedModels="",t.mergedTexture=""},saveResult(){const{outputs:t}=this,s="是否记录生成结果到 localStorage？";this.confirmDialog(s,(()=>{for(let s in t)localStorage.setItem("tool_gdr_"+s,t[s]);this.$message({duration:3e3,message:"已记录",type:"success"})}))},loadSaves(){const{outputs:t}=this,s={},e="是否加载记录？";this.confirmDialog(e,(()=>{for(let e in t){const t=localStorage.getItem("tool_gdr_"+e);t&&(s[e]=t)}Object.keys(s).length>0?(this.outputs=s,this.historyCtrl("record"),this.$message({duration:3e3,message:"已加载",type:"success"})):this.$message({duration:3e3,message:"没有记录",type:"warning"})}))},clearSaves(){const{outputs:t}=this,s="是否清除记录？";this.confirmDialog(s,(()=>{for(let s in t)localStorage.removeItem("tool_gdr_"+s);this.$message({duration:3e3,message:"已清除",type:"success"})}))}}}),n=o,l=e(4698),c=(0,l.A)(n,a,i,!1,null,"9a2f606a",null),r=c.exports}}]);