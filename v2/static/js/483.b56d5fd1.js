"use strict";(self["webpackChunkfrost_navigation"]=self["webpackChunkfrost_navigation"]||[]).push([[483],{6483:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tool-page"},[e("div",{staticClass:"ctrl"},[e("div",{staticClass:"title"},[t._v("控制")]),e("div",{staticClass:"content"},[e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("转换模式")]),e("el-select",{attrs:{size:"medium"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t){return e("el-option",{key:t.name,attrs:{label:t.label,value:t.name}})})),1)],1),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("时间戳类型")]),e("el-select",{attrs:{size:"medium"},model:{value:t.tsType,callback:function(e){t.tsType=e},expression:"tsType"}},t._l(t.tsTypes,(function(t){return e("el-option",{key:t.name,attrs:{label:t.label,value:t.name}})})),1)],1),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("操作")]),e("el-button",{attrs:{type:t.update?"success":"warning",size:"small",plain:""},on:{click:function(e){return t.toggleUpdate()}}},[t._v("状态："+t._s(t.update?"自动更新":"暂停更新"))]),e("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.convert()}}},[t._v("转换")]),e("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(e){return t.clear()}}},[t._v("清空")])],1)])]),e("div",{staticClass:"current"},[e("div",{staticClass:"title"},[t._v("当前")]),e("div",{staticClass:"content"},[e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("时间")]),e("el-input",{attrs:{size:"medium",readonly:""},model:{value:t.current.t,callback:function(e){t.$set(t.current,"t",e)},expression:"current.t"}})],1),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("时间戳")]),e("el-input",{attrs:{size:"medium",readonly:""},model:{value:t.current.ts,callback:function(e){t.$set(t.current,"ts",e)},expression:"current.ts"}})],1)])]),e("div",{staticClass:"inputs"},[e("div",{staticClass:"title"},[t._v("输入")]),e("div",{staticClass:"content"},[t._m(0),e("el-input",{attrs:{placeholder:t.placeholder,size:"medium"},model:{value:t.textInputs,callback:function(e){t.textInputs=e},expression:"textInputs"}})],1)]),e("div",{staticClass:"outputs"},[e("div",{staticClass:"title"},[t._v("结果")]),e("div",{staticClass:"content"},[e("el-input",{attrs:{size:"medium"},model:{value:t.textOutputs,callback:function(e){t.textOutputs=e},expression:"textOutputs"}})],1)])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"notice"},[e("p",[t._v("注意：")]),e("p",[t._v("在“本地时间 -> 时间戳”的模式中，若省略“时间”，将会加上本地时区与零时区的时差后计算；")]),e("p",[t._v("例如北京时间（UTC+8）按 08:00 计算，东京时间（UTC+9）按 09:00 计算。")])])}],n={name:"ConvertTimestamp",data(){return{mode:"t-to-ts",modes:[{name:"t-to-ts",label:"本地时间 -> 时间戳"},{name:"ts-to-t",label:"时间戳 -> 本地时间"}],timer:null,update:!0,tsType:"ms",tsTypes:[{name:"ms",label:"毫秒"},{name:"s",label:"秒"}],current:{t:"",ts:""},textInputs:"",textOutputs:""}},computed:{placeholder(){const t=this.mode,e=this.tsType;if("t-to-ts"===t)return"参考格式：年-月-日 时:分:秒";if("ts-to-t"===t){if("s"===e)return"参考范例：1577808000";if("ms"===e)return"参考范例：1577808000000"}return""}},created(){this.init()},beforeDestroy(){clearInterval(this.timer)},methods:{init(){this.timer=setInterval((()=>{this.update&&(this.current.t=this.tsToTime(),this.current.ts=this.timeToTs())}),1e3)},clear(){this.textInputs="",this.textOutputs=""},convert(){const t=this.mode;"t-to-ts"===t?this.textOutputs=this.timeToTs(this.textInputs):"ts-to-t"===t&&(this.textOutputs=this.tsToTime(this.textInputs))},timeToTs(t){const e=t?new Date(t):new Date;if("Invalid Date"===e.toString())return"格式错误";const s=e.getTime();return"ms"===this.tsType?s:(s/1e3).toFixed(0)},tsToTime(t=null){""===t&&(t=null);const e=null!==t;e&&"s"===this.tsType&&(t+="000");const s=parseInt(t);if(e&&isNaN(s))return"格式错误";const i=e?new Date(s):new Date,a={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds()};for(let n in a)a[n]<10&&(a[n]="0"+a[n]);return`${a.y}-${a.m}-${a.d} ${a.h}:${a.i}:${a.s}`},toggleUpdate(){this.update=!this.update}}},l=n,u=s(4698),r=(0,u.A)(l,i,a,!1,null,"147fe686",null),c=r.exports}}]);